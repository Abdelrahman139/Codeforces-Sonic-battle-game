import{r as y,a as qs,u as ct,b as Js,c as Kt,L as Tt,R as Ue,H as Vs,d as Ws,e as et}from"./react-vendor-BdGqppvM.js";import{m as T,u as Ks,A as dt}from"./animation-vendor-S9lvpStp.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();var Xt={exports:{}},Be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=y,Gs=Symbol.for("react.element"),Ys=Symbol.for("react.fragment"),Zs=Object.prototype.hasOwnProperty,Qs=Xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,en={key:!0,ref:!0,__self:!0,__source:!0};function Gt(e,t,s){var n,o={},i=null,a=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Zs.call(t,n)&&!en.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:Gs,type:e,key:i,ref:a,props:o,_owner:Qs.current}}Be.Fragment=Ys;Be.jsx=Gt;Be.jsxs=Gt;Xt.exports=Be;var r=Xt.exports,rt={},Rt=qs;rt.createRoot=Rt.createRoot,rt.hydrateRoot=Rt.hydrateRoot;function Yt(e,t){return function(){return e.apply(t,arguments)}}const{toString:tn}=Object.prototype,{getPrototypeOf:ut}=Object,{iterator:He,toStringTag:Zt}=Symbol,ze=(e=>t=>{const s=tn.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),X=e=>(e=e.toLowerCase(),t=>ze(t)===e),qe=e=>t=>typeof t===e,{isArray:pe}=Array,he=qe("undefined");function Te(e){return e!==null&&!he(e)&&e.constructor!==null&&!he(e.constructor)&&W(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qt=X("ArrayBuffer");function sn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qt(e.buffer),t}const nn=qe("string"),W=qe("function"),es=qe("number"),Re=e=>e!==null&&typeof e=="object",rn=e=>e===!0||e===!1,Le=e=>{if(ze(e)!=="object")return!1;const t=ut(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zt in e)&&!(He in e)},on=e=>{if(!Re(e)||Te(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},an=X("Date"),ln=X("File"),cn=X("Blob"),dn=X("FileList"),un=e=>Re(e)&&W(e.pipe),mn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||W(e.append)&&((t=ze(e))==="formdata"||t==="object"&&W(e.toString)&&e.toString()==="[object FormData]"))},fn=X("URLSearchParams"),[hn,pn,xn,bn]=["ReadableStream","Request","Response","Headers"].map(X),gn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ce(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,o;if(typeof e!="object"&&(e=[e]),pe(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{if(Te(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(n=0;n<a;n++)l=i[n],t.call(null,e[l],l,e)}}function ts(e,t){if(Te(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,o;for(;n-- >0;)if(o=s[n],t===o.toLowerCase())return o;return null}const ie=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ss=e=>!he(e)&&e!==ie;function ot(){const{caseless:e,skipUndefined:t}=ss(this)&&this||{},s={},n=(o,i)=>{const a=e&&ts(s,i)||i;Le(s[a])&&Le(o)?s[a]=ot(s[a],o):Le(o)?s[a]=ot({},o):pe(o)?s[a]=o.slice():(!t||!he(o))&&(s[a]=o)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Ce(arguments[o],n);return s}const yn=(e,t,s,{allOwnKeys:n}={})=>(Ce(t,(o,i)=>{s&&W(o)?e[i]=Yt(o,s):e[i]=o},{allOwnKeys:n}),e),wn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),vn=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Nn=(e,t,s,n)=>{let o,i,a;const l={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],(!n||n(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=s!==!1&&ut(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},jn=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},Sn=e=>{if(!e)return null;if(pe(e))return e;let t=e.length;if(!es(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},En=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ut(Uint8Array)),Tn=(e,t)=>{const n=(e&&e[He]).call(e);let o;for(;(o=n.next())&&!o.done;){const i=o.value;t.call(e,i[0],i[1])}},Rn=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},Cn=X("HTMLFormElement"),On=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,o){return n.toUpperCase()+o}),Ct=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),An=X("RegExp"),ns=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};Ce(s,(o,i)=>{let a;(a=t(o,i,e))!==!1&&(n[i]=a||o)}),Object.defineProperties(e,n)},Pn=e=>{ns(e,(t,s)=>{if(W(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(W(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},kn=(e,t)=>{const s={},n=o=>{o.forEach(i=>{s[i]=!0})};return pe(e)?n(e):n(String(e).split(t)),s},$n=()=>{},In=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Mn(e){return!!(e&&W(e.append)&&e[Zt]==="FormData"&&e[He])}const Ln=e=>{const t=new Array(10),s=(n,o)=>{if(Re(n)){if(t.indexOf(n)>=0)return;if(Te(n))return n;if(!("toJSON"in n)){t[o]=n;const i=pe(n)?[]:{};return Ce(n,(a,l)=>{const x=s(a,o+1);!he(x)&&(i[l]=x)}),t[o]=void 0,i}}return n};return s(e,0)},Dn=X("AsyncFunction"),Fn=e=>e&&(Re(e)||W(e))&&W(e.then)&&W(e.catch),rs=((e,t)=>e?setImmediate:t?((s,n)=>(ie.addEventListener("message",({source:o,data:i})=>{o===ie&&i===s&&n.length&&n.shift()()},!1),o=>{n.push(o),ie.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",W(ie.postMessage)),_n=typeof queueMicrotask<"u"?queueMicrotask.bind(ie):typeof process<"u"&&process.nextTick||rs,Un=e=>e!=null&&W(e[He]),c={isArray:pe,isArrayBuffer:Qt,isBuffer:Te,isFormData:mn,isArrayBufferView:sn,isString:nn,isNumber:es,isBoolean:rn,isObject:Re,isPlainObject:Le,isEmptyObject:on,isReadableStream:hn,isRequest:pn,isResponse:xn,isHeaders:bn,isUndefined:he,isDate:an,isFile:ln,isBlob:cn,isRegExp:An,isFunction:W,isStream:un,isURLSearchParams:fn,isTypedArray:En,isFileList:dn,forEach:Ce,merge:ot,extend:yn,trim:gn,stripBOM:wn,inherits:vn,toFlatObject:Nn,kindOf:ze,kindOfTest:X,endsWith:jn,toArray:Sn,forEachEntry:Tn,matchAll:Rn,isHTMLForm:Cn,hasOwnProperty:Ct,hasOwnProp:Ct,reduceDescriptors:ns,freezeMethods:Pn,toObjectSet:kn,toCamelCase:On,noop:$n,toFiniteNumber:In,findKey:ts,global:ie,isContextDefined:ss,isSpecCompliantForm:Mn,toJSONObject:Ln,isAsyncFn:Dn,isThenable:Fn,setImmediate:rs,asap:_n,isIterable:Un};function R(e,t,s,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}c.inherits(R,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.status}}});const os=R.prototype,as={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{as[e]={value:e}});Object.defineProperties(R,as);Object.defineProperty(os,"isAxiosError",{value:!0});R.from=(e,t,s,n,o,i)=>{const a=Object.create(os);c.toFlatObject(e,a,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const l=e&&e.message?e.message:"Error",x=t==null&&e?e.code:t;return R.call(a,l,x,s,n,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const Bn=null;function at(e){return c.isPlainObject(e)||c.isArray(e)}function is(e){return c.endsWith(e,"[]")?e.slice(0,-2):e}function Ot(e,t,s){return e?e.concat(t).map(function(o,i){return o=is(o),!s&&i?"["+o+"]":o}).join(s?".":""):t}function Hn(e){return c.isArray(e)&&!e.some(at)}const zn=c.toFlatObject(c,{},null,function(t){return/^is[A-Z]/.test(t)});function Je(e,t,s){if(!c.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=c.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,w){return!c.isUndefined(w[N])});const n=s.metaTokens,o=s.visitor||m,i=s.dots,a=s.indexes,x=(s.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(t);if(!c.isFunction(o))throw new TypeError("visitor must be a function");function f(h){if(h===null)return"";if(c.isDate(h))return h.toISOString();if(c.isBoolean(h))return h.toString();if(!x&&c.isBlob(h))throw new R("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(h)||c.isTypedArray(h)?x&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function m(h,N,w){let k=h;if(h&&!w&&typeof h=="object"){if(c.endsWith(N,"{}"))N=n?N:N.slice(0,-2),h=JSON.stringify(h);else if(c.isArray(h)&&Hn(h)||(c.isFileList(h)||c.endsWith(N,"[]"))&&(k=c.toArray(h)))return N=is(N),k.forEach(function($,D){!(c.isUndefined($)||$===null)&&t.append(a===!0?Ot([N],D,i):a===null?N:N+"[]",f($))}),!1}return at(h)?!0:(t.append(Ot(w,N,i),f(h)),!1)}const b=[],j=Object.assign(zn,{defaultVisitor:m,convertValue:f,isVisitable:at});function A(h,N){if(!c.isUndefined(h)){if(b.indexOf(h)!==-1)throw Error("Circular reference detected in "+N.join("."));b.push(h),c.forEach(h,function(k,_){(!(c.isUndefined(k)||k===null)&&o.call(t,k,c.isString(_)?_.trim():_,N,j))===!0&&A(k,N?N.concat(_):[_])}),b.pop()}}if(!c.isObject(e))throw new TypeError("data must be an object");return A(e),t}function At(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function mt(e,t){this._pairs=[],e&&Je(e,this,t)}const ls=mt.prototype;ls.append=function(t,s){this._pairs.push([t,s])};ls.toString=function(t){const s=t?function(n){return t.call(this,n,At)}:At;return this._pairs.map(function(o){return s(o[0])+"="+s(o[1])},"").join("&")};function qn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function cs(e,t,s){if(!t)return e;const n=s&&s.encode||qn;c.isFunction(s)&&(s={serialize:s});const o=s&&s.serialize;let i;if(o?i=o(t,s):i=c.isURLSearchParams(t)?t.toString():new mt(t,s).toString(n),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Pt{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){c.forEach(this.handlers,function(n){n!==null&&t(n)})}}const ds={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jn=typeof URLSearchParams<"u"?URLSearchParams:mt,Vn=typeof FormData<"u"?FormData:null,Wn=typeof Blob<"u"?Blob:null,Kn={isBrowser:!0,classes:{URLSearchParams:Jn,FormData:Vn,Blob:Wn},protocols:["http","https","file","blob","url","data"]},ft=typeof window<"u"&&typeof document<"u",it=typeof navigator=="object"&&navigator||void 0,Xn=ft&&(!it||["ReactNative","NativeScript","NS"].indexOf(it.product)<0),Gn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yn=ft&&window.location.href||"http://localhost",Zn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ft,hasStandardBrowserEnv:Xn,hasStandardBrowserWebWorkerEnv:Gn,navigator:it,origin:Yn},Symbol.toStringTag,{value:"Module"})),q={...Zn,...Kn};function Qn(e,t){return Je(e,new q.classes.URLSearchParams,{visitor:function(s,n,o,i){return q.isNode&&c.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function er(e){return c.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function tr(e){const t={},s=Object.keys(e);let n;const o=s.length;let i;for(n=0;n<o;n++)i=s[n],t[i]=e[i];return t}function us(e){function t(s,n,o,i){let a=s[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),x=i>=s.length;return a=!a&&c.isArray(o)?o.length:a,x?(c.hasOwnProp(o,a)?o[a]=[o[a],n]:o[a]=n,!l):((!o[a]||!c.isObject(o[a]))&&(o[a]=[]),t(s,n,o[a],i)&&c.isArray(o[a])&&(o[a]=tr(o[a])),!l)}if(c.isFormData(e)&&c.isFunction(e.entries)){const s={};return c.forEachEntry(e,(n,o)=>{t(er(n),o,s,0)}),s}return null}function sr(e,t,s){if(c.isString(e))try{return(t||JSON.parse)(e),c.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const Oe={transitional:ds,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",o=n.indexOf("application/json")>-1,i=c.isObject(t);if(i&&c.isHTMLForm(t)&&(t=new FormData(t)),c.isFormData(t))return o?JSON.stringify(us(t)):t;if(c.isArrayBuffer(t)||c.isBuffer(t)||c.isStream(t)||c.isFile(t)||c.isBlob(t)||c.isReadableStream(t))return t;if(c.isArrayBufferView(t))return t.buffer;if(c.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Qn(t,this.formSerializer).toString();if((l=c.isFileList(t))||n.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Je(l?{"files[]":t}:t,x&&new x,this.formSerializer)}}return i||o?(s.setContentType("application/json",!1),sr(t)):t}],transformResponse:[function(t){const s=this.transitional||Oe.transitional,n=s&&s.forcedJSONParsing,o=this.responseType==="json";if(c.isResponse(t)||c.isReadableStream(t))return t;if(t&&c.isString(t)&&(n&&!this.responseType||o)){const a=!(s&&s.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?R.from(l,R.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q.classes.FormData,Blob:q.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c.forEach(["delete","get","head","post","put","patch"],e=>{Oe.headers[e]={}});const nr=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rr=e=>{const t={};let s,n,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),s=a.substring(0,o).trim().toLowerCase(),n=a.substring(o+1).trim(),!(!s||t[s]&&nr[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},kt=Symbol("internals");function Ee(e){return e&&String(e).trim().toLowerCase()}function De(e){return e===!1||e==null?e:c.isArray(e)?e.map(De):String(e)}function or(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const ar=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function tt(e,t,s,n,o){if(c.isFunction(n))return n.call(this,t,s);if(o&&(t=s),!!c.isString(t)){if(c.isString(n))return t.indexOf(n)!==-1;if(c.isRegExp(n))return n.test(t)}}function ir(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function lr(e,t){const s=c.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(o,i,a){return this[n].call(this,t,o,i,a)},configurable:!0})})}let K=class{constructor(t){t&&this.set(t)}set(t,s,n){const o=this;function i(l,x,f){const m=Ee(x);if(!m)throw new Error("header name must be a non-empty string");const b=c.findKey(o,m);(!b||o[b]===void 0||f===!0||f===void 0&&o[b]!==!1)&&(o[b||x]=De(l))}const a=(l,x)=>c.forEach(l,(f,m)=>i(f,m,x));if(c.isPlainObject(t)||t instanceof this.constructor)a(t,s);else if(c.isString(t)&&(t=t.trim())&&!ar(t))a(rr(t),s);else if(c.isObject(t)&&c.isIterable(t)){let l={},x,f;for(const m of t){if(!c.isArray(m))throw TypeError("Object iterator must return a key-value pair");l[f=m[0]]=(x=l[f])?c.isArray(x)?[...x,m[1]]:[x,m[1]]:m[1]}a(l,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=Ee(t),t){const n=c.findKey(this,t);if(n){const o=this[n];if(!s)return o;if(s===!0)return or(o);if(c.isFunction(s))return s.call(this,o,n);if(c.isRegExp(s))return s.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ee(t),t){const n=c.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||tt(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let o=!1;function i(a){if(a=Ee(a),a){const l=c.findKey(n,a);l&&(!s||tt(n,n[l],l,s))&&(delete n[l],o=!0)}}return c.isArray(t)?t.forEach(i):i(t),o}clear(t){const s=Object.keys(this);let n=s.length,o=!1;for(;n--;){const i=s[n];(!t||tt(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const s=this,n={};return c.forEach(this,(o,i)=>{const a=c.findKey(n,i);if(a){s[a]=De(o),delete s[i];return}const l=t?ir(i):String(i).trim();l!==i&&delete s[i],s[l]=De(o),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return c.forEach(this,(n,o)=>{n!=null&&n!==!1&&(s[o]=t&&c.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(o=>n.set(o)),n}static accessor(t){const n=(this[kt]=this[kt]={accessors:{}}).accessors,o=this.prototype;function i(a){const l=Ee(a);n[l]||(lr(o,a),n[l]=!0)}return c.isArray(t)?t.forEach(i):i(t),this}};K.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.reduceDescriptors(K.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});c.freezeMethods(K);function st(e,t){const s=this||Oe,n=t||s,o=K.from(n.headers);let i=n.data;return c.forEach(e,function(l){i=l.call(s,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function ms(e){return!!(e&&e.__CANCEL__)}function xe(e,t,s){R.call(this,e??"canceled",R.ERR_CANCELED,t,s),this.name="CanceledError"}c.inherits(xe,R,{__CANCEL__:!0});function fs(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new R("Request failed with status code "+s.status,[R.ERR_BAD_REQUEST,R.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function cr(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function dr(e,t){e=e||10;const s=new Array(e),n=new Array(e);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(x){const f=Date.now(),m=n[i];a||(a=f),s[o]=x,n[o]=f;let b=i,j=0;for(;b!==o;)j+=s[b++],b=b%e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),f-a<t)return;const A=m&&f-m;return A?Math.round(j*1e3/A):void 0}}function ur(e,t){let s=0,n=1e3/t,o,i;const a=(f,m=Date.now())=>{s=m,o=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const m=Date.now(),b=m-s;b>=n?a(f,m):(o=f,i||(i=setTimeout(()=>{i=null,a(o)},n-b)))},()=>o&&a(o)]}const _e=(e,t,s=3)=>{let n=0;const o=dr(50,250);return ur(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,x=a-n,f=o(x),m=a<=l;n=a;const b={loaded:a,total:l,progress:l?a/l:void 0,bytes:x,rate:f||void 0,estimated:f&&l&&m?(l-a)/f:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(b)},s)},$t=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},It=e=>(...t)=>c.asap(()=>e(...t)),mr=q.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,q.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(q.origin),q.navigator&&/(msie|trident)/i.test(q.navigator.userAgent)):()=>!0,fr=q.hasStandardBrowserEnv?{write(e,t,s,n,o,i,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];c.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),c.isString(n)&&l.push(`path=${n}`),c.isString(o)&&l.push(`domain=${o}`),i===!0&&l.push("secure"),c.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hr(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pr(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hs(e,t,s){let n=!hr(t);return e&&(n||s==!1)?pr(e,t):t}const Mt=e=>e instanceof K?{...e}:e;function ce(e,t){t=t||{};const s={};function n(f,m,b,j){return c.isPlainObject(f)&&c.isPlainObject(m)?c.merge.call({caseless:j},f,m):c.isPlainObject(m)?c.merge({},m):c.isArray(m)?m.slice():m}function o(f,m,b,j){if(c.isUndefined(m)){if(!c.isUndefined(f))return n(void 0,f,b,j)}else return n(f,m,b,j)}function i(f,m){if(!c.isUndefined(m))return n(void 0,m)}function a(f,m){if(c.isUndefined(m)){if(!c.isUndefined(f))return n(void 0,f)}else return n(void 0,m)}function l(f,m,b){if(b in t)return n(f,m);if(b in e)return n(void 0,f)}const x={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(f,m,b)=>o(Mt(f),Mt(m),b,!0)};return c.forEach(Object.keys({...e,...t}),function(m){const b=x[m]||o,j=b(e[m],t[m],m);c.isUndefined(j)&&b!==l||(s[m]=j)}),s}const ps=e=>{const t=ce({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=K.from(a),t.url=cs(hs(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),c.isFormData(s)){if(q.hasStandardBrowserEnv||q.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(c.isFunction(s.getHeaders)){const x=s.getHeaders(),f=["content-type","content-length"];Object.entries(x).forEach(([m,b])=>{f.includes(m.toLowerCase())&&a.set(m,b)})}}if(q.hasStandardBrowserEnv&&(n&&c.isFunction(n)&&(n=n(t)),n||n!==!1&&mr(t.url))){const x=o&&i&&fr.read(i);x&&a.set(o,x)}return t},xr=typeof XMLHttpRequest<"u",br=xr&&function(e){return new Promise(function(s,n){const o=ps(e);let i=o.data;const a=K.from(o.headers).normalize();let{responseType:l,onUploadProgress:x,onDownloadProgress:f}=o,m,b,j,A,h;function N(){A&&A(),h&&h(),o.cancelToken&&o.cancelToken.unsubscribe(m),o.signal&&o.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(o.method.toUpperCase(),o.url,!0),w.timeout=o.timeout;function k(){if(!w)return;const $=K.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),B={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:$,config:e,request:w};fs(function(U){s(U),N()},function(U){n(U),N()},B),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(n(new R("Request aborted",R.ECONNABORTED,e,w)),w=null)},w.onerror=function(D){const B=D&&D.message?D.message:"Network Error",H=new R(B,R.ERR_NETWORK,e,w);H.event=D||null,n(H),w=null},w.ontimeout=function(){let D=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const B=o.transitional||ds;o.timeoutErrorMessage&&(D=o.timeoutErrorMessage),n(new R(D,B.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,e,w)),w=null},i===void 0&&a.setContentType(null),"setRequestHeader"in w&&c.forEach(a.toJSON(),function(D,B){w.setRequestHeader(B,D)}),c.isUndefined(o.withCredentials)||(w.withCredentials=!!o.withCredentials),l&&l!=="json"&&(w.responseType=o.responseType),f&&([j,h]=_e(f,!0),w.addEventListener("progress",j)),x&&w.upload&&([b,A]=_e(x),w.upload.addEventListener("progress",b),w.upload.addEventListener("loadend",A)),(o.cancelToken||o.signal)&&(m=$=>{w&&(n(!$||$.type?new xe(null,e,w):$),w.abort(),w=null)},o.cancelToken&&o.cancelToken.subscribe(m),o.signal&&(o.signal.aborted?m():o.signal.addEventListener("abort",m)));const _=cr(o.url);if(_&&q.protocols.indexOf(_)===-1){n(new R("Unsupported protocol "+_+":",R.ERR_BAD_REQUEST,e));return}w.send(i||null)})},gr=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,o;const i=function(f){if(!o){o=!0,l();const m=f instanceof Error?f:this.reason;n.abort(m instanceof R?m:new xe(m instanceof Error?m.message:m))}};let a=t&&setTimeout(()=>{a=null,i(new R(`timeout ${t} of ms exceeded`,R.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:x}=n;return x.unsubscribe=()=>c.asap(l),x}},yr=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,o;for(;n<s;)o=n+t,yield e.slice(n,o),n=o},wr=async function*(e,t){for await(const s of vr(e))yield*yr(s,t)},vr=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},Lt=(e,t,s,n)=>{const o=wr(e,t);let i=0,a,l=x=>{a||(a=!0,n&&n(x))};return new ReadableStream({async pull(x){try{const{done:f,value:m}=await o.next();if(f){l(),x.close();return}let b=m.byteLength;if(s){let j=i+=b;s(j)}x.enqueue(new Uint8Array(m))}catch(f){throw l(f),f}},cancel(x){return l(x),o.return()}},{highWaterMark:2})},Dt=64*1024,{isFunction:Me}=c,Nr=(({Request:e,Response:t})=>({Request:e,Response:t}))(c.global),{ReadableStream:Ft,TextEncoder:_t}=c.global,Ut=(e,...t)=>{try{return!!e(...t)}catch{return!1}},jr=e=>{e=c.merge.call({skipUndefined:!0},Nr,e);const{fetch:t,Request:s,Response:n}=e,o=t?Me(t):typeof fetch=="function",i=Me(s),a=Me(n);if(!o)return!1;const l=o&&Me(Ft),x=o&&(typeof _t=="function"?(h=>N=>h.encode(N))(new _t):async h=>new Uint8Array(await new s(h).arrayBuffer())),f=i&&l&&Ut(()=>{let h=!1;const N=new s(q.origin,{body:new Ft,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!N}),m=a&&l&&Ut(()=>c.isReadableStream(new n("").body)),b={stream:m&&(h=>h.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!b[h]&&(b[h]=(N,w)=>{let k=N&&N[h];if(k)return k.call(N);throw new R(`Response type '${h}' is not supported`,R.ERR_NOT_SUPPORT,w)})});const j=async h=>{if(h==null)return 0;if(c.isBlob(h))return h.size;if(c.isSpecCompliantForm(h))return(await new s(q.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(c.isArrayBufferView(h)||c.isArrayBuffer(h))return h.byteLength;if(c.isURLSearchParams(h)&&(h=h+""),c.isString(h))return(await x(h)).byteLength},A=async(h,N)=>{const w=c.toFiniteNumber(h.getContentLength());return w??j(N)};return async h=>{let{url:N,method:w,data:k,signal:_,cancelToken:$,timeout:D,onDownloadProgress:B,onUploadProgress:H,responseType:U,headers:de,withCredentials:ee="same-origin",fetchOptions:ue}=ps(h),Ae=t||fetch;U=U?(U+"").toLowerCase():"text";let S=gr([_,$&&$.toAbortSignal()],D),te=null;const Y=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let L;try{if(H&&f&&w!=="get"&&w!=="head"&&(L=await A(de,k))!==0){let Q=new s(N,{method:"POST",body:k,duplex:"half"}),ne;if(c.isFormData(k)&&(ne=Q.headers.get("content-type"))&&de.setContentType(ne),Q.body){const[v,re]=$t(L,_e(It(H)));k=Lt(Q.body,Dt,v,re)}}c.isString(ee)||(ee=ee?"include":"omit");const z=i&&"credentials"in s.prototype,se={...ue,signal:S,method:w.toUpperCase(),headers:de.normalize().toJSON(),body:k,duplex:"half",credentials:z?ee:void 0};te=i&&new s(N,se);let Z=await(i?Ae(te,ue):Ae(N,se));const Xe=m&&(U==="stream"||U==="response");if(m&&(B||Xe&&Y)){const Q={};["status","statusText","headers"].forEach(oe=>{Q[oe]=Z[oe]});const ne=c.toFiniteNumber(Z.headers.get("content-length")),[v,re]=B&&$t(ne,_e(It(B),!0))||[];Z=new n(Lt(Z.body,Dt,v,()=>{re&&re(),Y&&Y()}),Q)}U=U||"text";let pt=await b[c.findKey(b,U)||"text"](Z,h);return!Xe&&Y&&Y(),await new Promise((Q,ne)=>{fs(Q,ne,{data:pt,headers:K.from(Z.headers),status:Z.status,statusText:Z.statusText,config:h,request:te})})}catch(z){throw Y&&Y(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new R("Network Error",R.ERR_NETWORK,h,te),{cause:z.cause||z}):R.from(z,z&&z.code,h,te)}}},Sr=new Map,xs=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:o}=t,i=[n,o,s];let a=i.length,l=a,x,f,m=Sr;for(;l--;)x=i[l],f=m.get(x),f===void 0&&m.set(x,f=l?new Map:jr(t)),m=f;return f};xs();const ht={http:Bn,xhr:br,fetch:{get:xs}};c.forEach(ht,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Bt=e=>`- ${e}`,Er=e=>c.isFunction(e)||e===null||e===!1;function Tr(e,t){e=c.isArray(e)?e:[e];const{length:s}=e;let n,o;const i={};for(let a=0;a<s;a++){n=e[a];let l;if(o=n,!Er(n)&&(o=ht[(l=String(n)).toLowerCase()],o===void 0))throw new R(`Unknown adapter '${l}'`);if(o&&(c.isFunction(o)||(o=o.get(t))))break;i[l||"#"+a]=o}if(!o){const a=Object.entries(i).map(([x,f])=>`adapter ${x} `+(f===!1?"is not supported by the environment":"is not available in the build"));let l=s?a.length>1?`since :
`+a.map(Bt).join(`
`):" "+Bt(a[0]):"as no adapter specified";throw new R("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return o}const bs={getAdapter:Tr,adapters:ht};function nt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xe(null,e)}function Ht(e){return nt(e),e.headers=K.from(e.headers),e.data=st.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bs.getAdapter(e.adapter||Oe.adapter,e)(e).then(function(n){return nt(e),n.data=st.call(e,e.transformResponse,n),n.headers=K.from(n.headers),n},function(n){return ms(n)||(nt(e),n&&n.response&&(n.response.data=st.call(e,e.transformResponse,n.response),n.response.headers=K.from(n.response.headers))),Promise.reject(n)})}const gs="1.13.2",Ve={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ve[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zt={};Ve.transitional=function(t,s,n){function o(i,a){return"[Axios v"+gs+"] Transitional option '"+i+"'"+a+(n?". "+n:"")}return(i,a,l)=>{if(t===!1)throw new R(o(a," has been removed"+(s?" in "+s:"")),R.ERR_DEPRECATED);return s&&!zt[a]&&(zt[a]=!0,console.warn(o(a," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,a,l):!0}};Ve.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Rr(e,t,s){if(typeof e!="object")throw new R("options must be an object",R.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],a=t[i];if(a){const l=e[i],x=l===void 0||a(l,i,e);if(x!==!0)throw new R("option "+i+" must be "+x,R.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new R("Unknown option "+i,R.ERR_BAD_OPTION)}}const Fe={assertOptions:Rr,validators:Ve},G=Fe.validators;let le=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Pt,response:new Pt}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ce(this.defaults,s);const{transitional:n,paramsSerializer:o,headers:i}=s;n!==void 0&&Fe.assertOptions(n,{silentJSONParsing:G.transitional(G.boolean),forcedJSONParsing:G.transitional(G.boolean),clarifyTimeoutError:G.transitional(G.boolean)},!1),o!=null&&(c.isFunction(o)?s.paramsSerializer={serialize:o}:Fe.assertOptions(o,{encode:G.function,serialize:G.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Fe.assertOptions(s,{baseUrl:G.spelling("baseURL"),withXsrfToken:G.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a=i&&c.merge(i.common,i[s.method]);i&&c.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),s.headers=K.concat(a,i);const l=[];let x=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(s)===!1||(x=x&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const f=[];this.interceptors.response.forEach(function(N){f.push(N.fulfilled,N.rejected)});let m,b=0,j;if(!x){const h=[Ht.bind(this),void 0];for(h.unshift(...l),h.push(...f),j=h.length,m=Promise.resolve(s);b<j;)m=m.then(h[b++],h[b++]);return m}j=l.length;let A=s;for(;b<j;){const h=l[b++],N=l[b++];try{A=h(A)}catch(w){N.call(this,w);break}}try{m=Ht.call(this,A)}catch(h){return Promise.reject(h)}for(b=0,j=f.length;b<j;)m=m.then(f[b++],f[b++]);return m}getUri(t){t=ce(this.defaults,t);const s=hs(t.baseURL,t.url,t.allowAbsoluteUrls);return cs(s,t.params,t.paramsSerializer)}};c.forEach(["delete","get","head","options"],function(t){le.prototype[t]=function(s,n){return this.request(ce(n||{},{method:t,url:s,data:(n||{}).data}))}});c.forEach(["post","put","patch"],function(t){function s(n){return function(i,a,l){return this.request(ce(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}le.prototype[t]=s(),le.prototype[t+"Form"]=s(!0)});let Cr=class ys{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(o=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](o);n._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(l=>{n.subscribe(l),i=l}).then(o);return a.cancel=function(){n.unsubscribe(i)},a},t(function(i,a,l){n.reason||(n.reason=new xe(i,a,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new ys(function(o){t=o}),cancel:t}}};function Or(e){return function(s){return e.apply(null,s)}}function Ar(e){return c.isObject(e)&&e.isAxiosError===!0}const lt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lt).forEach(([e,t])=>{lt[t]=e});function ws(e){const t=new le(e),s=Yt(le.prototype.request,t);return c.extend(s,le.prototype,t,{allOwnKeys:!0}),c.extend(s,t,null,{allOwnKeys:!0}),s.create=function(o){return ws(ce(e,o))},s}const F=ws(Oe);F.Axios=le;F.CanceledError=xe;F.CancelToken=Cr;F.isCancel=ms;F.VERSION=gs;F.toFormData=Je;F.AxiosError=R;F.Cancel=F.CanceledError;F.all=function(t){return Promise.all(t)};F.spread=Or;F.isAxiosError=Ar;F.mergeConfig=ce;F.AxiosHeaders=K;F.formToJSON=e=>us(c.isHTMLForm(e)?new FormData(e):e);F.getAdapter=bs.getAdapter;F.HttpStatusCode=lt;F.default=F;const{Axios:ro,AxiosError:oo,CanceledError:ao,isCancel:io,CancelToken:lo,VERSION:co,all:uo,Cancel:mo,isAxiosError:fo,spread:ho,toFormData:po,AxiosHeaders:xo,HttpStatusCode:bo,formToJSON:go,getAdapter:yo,mergeConfig:wo}=F,We="https://codeforces.com/api",qt=2e3;let Jt=0;async function Ke(e){var n;const s=Date.now()-Jt;s<qt&&await new Promise(o=>setTimeout(o,qt-s)),Jt=Date.now();try{const o=await F.get(e,{timeout:1e4});if(o.data.status==="OK")return o.data.result;throw new Error(o.data.comment||"Codeforces API error")}catch(o){throw o.response?new Error(`Codeforces API error: ${o.response.status} - ${((n=o.response.data)==null?void 0:n.comment)||"Unknown error"}`):o}}async function Pr(e){try{const t=await Ke(`${We}/user.info?handles=${e}`);return t&&t.length>0?{valid:!0,handle:t[0].handle,rating:t[0].rating||0,maxRating:t[0].maxRating||0,avatar:t[0].avatar||null}:{valid:!1,error:"Handle not found"}}catch(t){return{valid:!1,error:t.message}}}async function kr(){try{const e=await Ke(`${We}/problemset.problems`);if(!e||!e.problems)return[];const t=new Set;return e.problems.forEach(s=>{s.tags&&Array.isArray(s.tags)&&s.tags.forEach(n=>t.add(n))}),Array.from(t).sort()}catch(e){return console.error("Error fetching tags:",e),[]}}async function $r(e=[],t=3e3,s=800){try{const n=await Ke(`${We}/problemset.problems`);return!n||!n.problems?[]:n.problems.filter(i=>i.rating&&(i.rating>t||i.rating<s)?!1:e.length>0?e.some(a=>i.tags.includes(a)):!0)}catch(n){throw console.error("Error fetching problems:",n),n}}async function vs(e){try{return await Ke(`${We}/user.status?handle=${e}`)||[]}catch(t){throw console.error(`Error fetching status for ${e}:`,t),t}}async function Ir(e){const t={};for(const s of e)try{t[s]=await vs(s)}catch(n){console.error(`Failed to fetch status for ${s}:`,n),t[s]=[]}return t}async function Mr(e,t){if(t.length===0)return e;const s=new Set,n=2;for(let o=0;o<t.length;o+=n){const i=t.slice(o,o+n),a=await Ir(i);Object.values(a).forEach(l=>{l.forEach(x=>{if(x.verdict==="OK"){const f=`${x.problem.contestId}-${x.problem.index}`;s.add(f)}})})}return e.filter(o=>{const i=`${o.contestId}-${o.index}`;return!s.has(i)})}function Lr(e){(!e||e<800)&&(e=800);const t=(e-800)/200,s=500*Math.pow(1.32,t);return Math.round(s)}function Vt(e,t=1){return Math.round(Lr(e)*t)}const Dr=5e3;class Fr{constructor(t,s,n){this.handles=t,this.matchStartTime=s,this.onNewSubmission=n,this.lastSubmissionIds=new Map,this.isPolling=!1,this.pollingInterval=null,this.lastPollTime=new Map,t.forEach(o=>{this.lastSubmissionIds.set(o,-1),this.lastPollTime.set(o,0)})}start(){this.isPolling||(this.isPolling=!0,this.poll(),this.pollingInterval=setInterval(()=>{this.poll()},Dr))}stop(){this.isPolling=!1,this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}async poll(){for(const t of this.handles)try{await this.pollHandle(t),await new Promise(s=>setTimeout(s,500))}catch(s){console.error(`Error polling handle ${t}:`,s)}}async pollHandle(t){try{const n=(await vs(t)).filter(a=>a.creationTimeSeconds*1e3>=this.matchStartTime);n.sort((a,l)=>a.id-l.id);const o=this.lastSubmissionIds.get(t),i=n.filter(a=>a.id>o);if(i.length>0){const a=Math.max(...i.map(l=>l.id));this.lastSubmissionIds.set(t,a),i.forEach(l=>{this.onNewSubmission(t,l)})}}catch(s){console.error(`Error polling handle ${t}:`,s)}}}const Ns="/Codeforces-Sonic-battle-game/assets/sonic-avatar-CZ9HXqrH.png";function _r({message:e="Loading..."}){return r.jsx("div",{className:"fixed inset-0 bg-gray-900/95 backdrop-blur-xl z-50 flex items-center justify-center",children:r.jsxs("div",{className:"sonic-neon-container",children:[r.jsxs("div",{className:"sonic-avatar-container",children:[r.jsx("div",{className:"sonic-ring-spinner"}),r.jsx("img",{src:Ns,alt:"Sonic Loading",className:"sonic-avatar"})]}),r.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold loading-text mb-2",children:e}),r.jsx("p",{className:"loading-subtext",children:"Preparing the Zone..."})]})]})})}function Ur({message:e="Loading..."}){return r.jsx(_r,{message:e})}function Br({darkMode:e}){const[t,s]=y.useState(!1),n=[{title:"Game Setup",icon:"ðŸŽ®",content:["Choose 2-4 players with unique Codeforces handles.","Select specific topics or All Topics.","Set difficulty (800-3000) and duration.","Enable 'Final Lap' for 2x points in last 25%!"]},{title:"Match Logic",icon:"ðŸŽ¯",content:["Hidden 'Mystery Problem' awards 2x points.","First to solve gets the points (lowest submission ID).","Already solved problems are filtered out.","Real-time 5s checks for submissions."]},{title:"Scoring System",icon:"ðŸ’Ž",content:["Points = 500 Ã— (1.32^((Rating - 800)/200))","Stack multipliers: Mystery (2x) + Final Lap (2x) = 4x!","Example: 1500 rating = ~1134 points base."]},{title:"Problem Status",icon:"ðŸ“Š",content:["âœ… AC: Points awarded","âŒ WA: Incorrect output","âš ï¸ TLE: Too slow","Ratings & Tags hidden during match!"]},{title:"Features",icon:"âš¡",content:["Live Leaderboard with Sonic sprites","Ring Collection Animations","Dark Mode Default","Detailed Results & Mystery Reveal"]},{title:"Tips & Strategy",icon:"ðŸ’¡",content:["Speed is key for claiming points.","Save hard problems for Final Lap (2x).","Balance difficulty vs time.","Watch opponents' progress!"]}];return r.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8 rounded-2xl p-0.5 relative bg-gradient-to-r from-sonic-gold/30 to-blue-500/30",style:{zIndex:10},children:r.jsxs("div",{className:`rounded-2xl p-6 shadow-xl backdrop-blur-md ${e?"bg-gray-900/90":"bg-blue-900/90"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[r.jsx("span",{className:"text-4xl",children:"ðŸ“š"})," How to Play"]}),r.jsx("button",{onClick:()=>s(!t),className:`px-6 py-2 rounded-xl font-bold transition-all duration-200 border-2 ${e?"bg-gray-800 hover:bg-gray-700 text-white border-gray-600":"bg-blue-700 hover:bg-blue-600 text-white border-blue-400"}`,children:t?"â–² Collapse":"â–¼ Expand"})]}),t&&r.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((o,i)=>r.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.05},className:`p-5 rounded-xl border-2 transition-all hover:scale-[1.02] ${e?"bg-gray-800/50 border-gray-700 hover:border-gray-500":"bg-blue-800/20 border-blue-400/30 hover:border-sonic-gold/50"}`,children:[r.jsxs("h3",{className:"text-xl font-bold text-sonic-gold mb-3 flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:o.icon})," ",o.title]}),r.jsx("ul",{className:"space-y-2",children:o.content.map((a,l)=>r.jsxs("li",{className:`text-sm flex items-start gap-2 ${e?"text-gray-300":"text-blue-100"}`,children:[r.jsx("span",{className:"text-sonic-gold mt-1",children:"â€¢"}),r.jsx("span",{children:a})]},l))})]},i))})]})})}function Hr({countdown:e,inviteLink:t,darkMode:s}){const[n,o]=y.useState(!1),i=l=>{const x=Math.floor(l/1e3),f=Math.floor(x/3600),m=Math.floor(x%3600/60),b=x%60;return f>0?`${f}:${m.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`:`${m}:${b.toString().padStart(2,"0")}`},a=()=>{t&&navigator.clipboard.writeText(t).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(l=>{console.error("Failed to copy:",l)})};return r.jsxs(T.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`mt-8 p-10 rounded-3xl border-2 backdrop-blur-xl relative overflow-hidden transition-all duration-300 ${s?"bg-gray-900/80 border-blue-500/30 shadow-[0_0_50px_rgba(59,130,246,0.2)]":"bg-blue-900/80 border-sonic-gold/50 shadow-[0_0_50px_rgba(251,191,36,0.3)]"}`,children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -z-10 animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-yellow-500/10 rounded-full blur-3xl -z-10 animate-pulse",style:{animationDelay:"1s"}}),r.jsxs("div",{className:"flex flex-col items-center text-center z-10 relative",children:[r.jsx("div",{className:"sonic-neon-container mb-8 scale-110",children:r.jsxs("div",{className:"sonic-avatar-container",children:[r.jsx("div",{className:"sonic-ring-spinner"}),r.jsx("img",{src:Ns,alt:"Sonic Waiting",className:"sonic-avatar"})]})}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"text-sm font-bold uppercase tracking-widest text-blue-400 mb-2",children:"Time Until Battle"}),r.jsx("div",{className:"text-6xl md:text-8xl font-black tabular-nums tracking-tight loading-text",children:i(e)})]}),r.jsx("p",{className:`text-xl font-medium mb-8 max-w-lg ${s?"text-gray-300":"text-blue-100"}`,children:"Sharpen your claws! The zone is loading and the battle will start automatically."}),t&&r.jsx(T.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"w-full max-w-2xl p-1 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-blue-600 p-[2px]",children:r.jsxs("div",{className:`p-5 rounded-2xl ${s?"bg-gray-900":"bg-blue-950"} h-full`,children:[r.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-center text-blue-400 mb-3",children:[r.jsx("span",{className:"mr-2",children:"ðŸ”—"}),"  Invite Challengers"]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[r.jsx("div",{className:`flex-1 flex items-center px-4 py-3 rounded-xl border border-white/10 ${s?"bg-black/40":"bg-black/30"}`,children:r.jsx("code",{className:"text-sm text-blue-200 truncate font-mono select-all",children:t})}),r.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:`px-8 py-3 font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-2 min-w-[140px] ${n?"bg-blue-600 text-white shadow-blue-500/20":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white shadow-green-500/20"}`,children:r.jsx(T.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:n?"COPIED! âœ“":"COPY"},n?"copied":"copy")})]})]})})]})]})}const js=y.memo(({problem:e,sonicPoints:t,status:s,solvedBy:n,onClick:o})=>{const i=`https://codeforces.com/problemset/problem/${e.contestId}/${e.index}`,l=(()=>{switch(s){case"AC":return{bg:"bg-green-900/40",border:"border-green-500",text:"text-green-400",badge:"bg-green-600",label:"AC"};case"WA":return{bg:"bg-red-900/40",border:"border-red-500",text:"text-red-400",badge:"bg-red-600",label:"WA"};case"TLE":return{bg:"bg-yellow-900/40",border:"border-yellow-500",text:"text-yellow-400",badge:"bg-yellow-600",label:"TLE"};default:return{bg:"bg-blue-900/50",border:"border-blue-600",text:"text-blue-300",badge:null,label:null}}})();return r.jsxs(T.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},className:`relative p-4 rounded-lg border-2 transition-all ${l.bg} ${l.border} hover:border-sonic-gold`,style:{willChange:"auto"},children:[l.badge&&r.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 ${l.badge} text-white text-xs font-bold rounded`,children:l.label}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1 pr-4",children:[r.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-bold text-white hover:text-sonic-gold transition-colors",children:[e.contestId,e.index,". ",e.name]}),n&&r.jsxs("div",{className:`text-sm mt-1 ${l.text} font-semibold`,children:["âœ“ Solved by: ",n]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-sonic-gold neon-glow",children:Math.round(t)}),r.jsx("div",{className:"text-xs text-blue-300",children:"Points"})]})]})]})});js.displayName="ProblemCard";const Ss=y.memo(({player:e,points:t,maxPoints:s,rank:n,previousPoints:o})=>{const i=s>0?t/s*100:0,a=s>0&&o!==void 0?o/s*100:0,l=`${i}%`,x=Ks(),f=y.useRef(!1);y.useEffect(()=>{o!==void 0&&t>o&&(f.current=!0,x.start({scale:[1,1.2,1],transition:{duration:.5}}),setTimeout(()=>{f.current=!1},500))},[t,o,x]);const m={1:"from-sonic-gold to-yellow-400",2:"from-gray-300 to-gray-400",3:"from-orange-600 to-orange-500",4:"from-blue-400 to-blue-500"},b={1:"ðŸ¥‡",2:"ðŸ¥ˆ",3:"ðŸ¥‰",4:"ðŸƒ"};return r.jsxs(T.div,{className:"relative mb-4",animate:x,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:b[n]||"ðŸƒ"}),r.jsx("span",{className:"font-bold text-lg",children:e.handle}),e.rating>0&&r.jsxs("span",{className:"text-sm text-blue-300",children:["(",e.rating,")"]})]}),r.jsxs(T.div,{className:"text-right",animate:f.current?{scale:[1,1.2,1],color:["#FFD700","#FFFF00","#FFD700"]}:{},transition:{duration:.5},children:[r.jsx("div",{className:"text-xl font-bold text-sonic-gold",children:t}),r.jsx("div",{className:"text-xs text-blue-300",children:"points"})]})]}),r.jsxs("div",{className:"track-lane h-8 rounded-full overflow-hidden relative",children:[r.jsx(T.div,{initial:{width:a},animate:{width:`${i}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full bg-gradient-to-r ${m[n]||"from-blue-500 to-blue-400"} shadow-lg relative`,children:f.current&&r.jsx(T.div,{initial:{opacity:.5,scale:1},animate:{opacity:0,scale:1.5},transition:{duration:.5},className:"absolute inset-0 bg-white/30 rounded-full"})}),r.jsx(T.div,{initial:{left:a>0?`${a}%`:"0%"},animate:{left:l},transition:{duration:.5,ease:"easeOut"},className:"absolute top-0 h-8 w-8 flex items-center justify-center text-xl pointer-events-none",style:{transform:"translateX(-50%)"},children:r.jsx("span",{className:"drop-shadow-lg",children:"âš¡"})})]})]})});Ss.displayName="PlayerProgress";function zr({show:e,onComplete:t}){const[s,n]=y.useState(e);return y.useEffect(()=>{if(e){n(!0);const o=setTimeout(()=>{n(!1),t==null||t()},600);return()=>clearTimeout(o)}},[e,t]),s?r.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 flex items-center justify-center",children:r.jsx(T.div,{initial:{scale:0,rotate:0,opacity:1},animate:{scale:2,rotate:360,opacity:0},transition:{duration:.6,ease:"easeOut"},className:"text-6xl",children:"ðŸ’Ž"})}):null}function qr(){return r.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 rounded-lg border-2 bg-blue-900/50 border-blue-600 animate-pulse",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"h-6 bg-blue-700/50 rounded w-3/4 mb-2"}),r.jsx("div",{className:"h-4 bg-blue-700/30 rounded w-1/2"})]}),r.jsx("div",{className:"h-8 w-16 bg-blue-700/50 rounded"})]})})}function Jr({options:e,darkMode:t,children:s}){const[n,o]=y.useState(!1),i=y.useRef(null);return y.useEffect(()=>{const a=l=>{i.current&&!i.current.contains(l.target)&&o(!1)};return n&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[n]),r.jsxs("div",{className:"relative mb-6",ref:i,children:[r.jsxs("button",{onClick:()=>o(!n),className:`w-full flex items-center justify-between px-6 py-4 rounded-xl font-bold text-lg transition-all duration-300 border-2 shadow-lg ${t?"bg-gray-800/60 border-gray-600 text-white hover:bg-gray-700/60":"bg-blue-900/60 border-sonic-gold text-white hover:bg-blue-800/70"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:"âš™ï¸"}),r.jsx("span",{children:"Customize Match"})]}),r.jsx(T.span,{animate:{rotate:n?180:0},transition:{duration:.2},className:"text-sonic-gold",children:"â–¼"})]}),r.jsx(dt,{children:n&&r.jsx(T.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},className:`mt-2 rounded-xl overflow-hidden shadow-2xl border-2 backdrop-blur-xl ${t?"bg-gray-900/95 border-gray-600":"bg-black/80 border-sonic-gold"}`,children:r.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((a,l)=>r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all duration-200 ${t?"bg-gray-800/50 border-gray-700 hover:border-gray-500 hover:bg-gray-800":"bg-blue-800/20 border-blue-400/30 hover:border-sonic-gold/50 hover:bg-blue-800/30"}`,children:[r.jsx("span",{className:`font-semibold ${t?"text-gray-200":"text-white"}`,children:a.label}),r.jsx("button",{onClick:()=>a.onChange(!a.checked),className:`relative w-14 h-8 rounded-full transition-all duration-300 ${a.checked?"bg-sonic-gold shadow-[0_0_10px_rgba(255,215,0,0.5)]":"bg-gray-600"}`,children:r.jsx(T.div,{className:"absolute top-1 left-1 w-6 h-6 rounded-full bg-white shadow-md",animate:{x:a.checked?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]},l))})})})]})}const Vr="/Codeforces-Sonic-battle-game/assets/sonic-vs-DZExhZ7P.png";function Wr(){const e=ct(),[t]=Js(),[s,n]=y.useState(2),[o,i]=y.useState(["",""]),[a,l]=y.useState({}),[x,f]=y.useState(!1),[m,b]=y.useState({}),[j,A]=y.useState(!1),[h,N]=y.useState([]),[w,k]=y.useState(2e3),[_,$]=y.useState(800),[D,B]=y.useState(60),[H,U]=y.useState(10),[de,ee]=y.useState(!1),[ue,Ae]=y.useState(!1),[S]=y.useState(!0),[te,Y]=y.useState([]),[L,z]=y.useState(""),[se,Z]=y.useState(null),[Xe,pt]=y.useState(null),[Q,ne]=y.useState(""),[v,re]=y.useState(null),[oe,Pe]=y.useState(new Map),[Cs,ke]=y.useState(new Map),[be,xt]=y.useState(new Map),[Os,bt]=y.useState(new Map),[gt,$e]=y.useState(!1),[Ie,ge]=y.useState(0),[ye,we]=y.useState(!1),ve=y.useRef(null),[Ge,Ye]=y.useState(""),[yt,Ne]=y.useState(!1),[ae,je]=y.useState(!1),[Se,J]=y.useState(""),wt=y.useRef(null),Ze=y.useRef({}),vt=y.useRef(null);y.useEffect(()=>{let d=!0;return(async()=>{try{const p=await kr();d&&Y(p)}catch(p){console.error("Error fetching tags:",p)}})(),()=>{d=!1}},[]),y.useEffect(()=>{const d=u=>{wt.current&&!wt.current.contains(u.target)&&ee(!1)};return de&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[de]),y.useEffect(()=>()=>{vt.current&&clearInterval(vt.current)},[]),y.useEffect(()=>{const d=sessionStorage.getItem("matchConfig"),u=t.get("invite");if(d)try{const p=JSON.parse(d);if(p.players&&Array.isArray(p.players)&&p.players.length>0&&p.problems&&Array.isArray(p.problems)){const g=Date.now(),E=p.startTime||g,M=p.endTime||E+(p.matchDuration||60)*60*1e3,I=g>=E;re(p),we(I),ge(I?Math.max(0,M-g):Math.max(0,E-g));const C=new Map,O=new Map;p.players.forEach(P=>{P&&P.handle&&(C.set(P.handle,0),O.set(P.handle,0))}),Pe(C),ke(O)}}catch(p){console.error("Error parsing match config:",p)}else if(u){let p=null;try{if(u.length>50){const g=decodeURIComponent(escape(window.atob(u))),E=JSON.parse(g);E&&E.matchId&&(p=E,console.log("Successfully decoded serverless match config"))}}catch{}if(!p){console.log("Loading match config from local storage for invite:",u);const g=localStorage.getItem(`matchConfig_${u}`);if(g)try{p=JSON.parse(g)}catch(E){console.error("Error parsing local config:",E)}}if(p){const g=p,E=Date.now(),M=g.startTime||E,I=g.endTime||M+(g.matchDuration||60)*60*1e3,C=E>=M;sessionStorage.setItem("matchConfig",JSON.stringify(g)),re(g),we(C),ge(C?Math.max(0,I-E):Math.max(0,M-E));const O=new Map,P=new Map;g.players.forEach(V=>{V&&V.handle&&(O.set(V.handle,0),P.set(V.handle,0))}),Pe(O),ke(P),C||e("/countdown");return}Ne(!0),Ye(u),J("Match not found. The invite link might be invalid or expired.")}},[t]),y.useEffect(()=>{if(!v)return;const d=setInterval(()=>{const u=Date.now(),p=v.startTime||u,g=v.endTime||p+(v.matchDuration||60)*60*1e3;u<p?(ge(Math.max(0,p-u)),we(!1)):(we(!0),ge(Math.max(0,g-u)))},1e3);return()=>clearInterval(d)},[v]),y.useEffect(()=>{if(!v||Ie>0||!ye)return;ve.current&&ve.current.stop();const d={players:Array.from(oe.entries()).map(([u,p])=>({handle:u,points:p,playerInfo:v.players.find(g=>g.handle===u)})).sort((u,p)=>p.points-u.points),solvedProblems:Array.from(be.entries()),matchConfig:v};sessionStorage.setItem("matchResults",JSON.stringify(d)),e("/results")},[Ie,v,oe,be,e,ye]);const Nt=y.useCallback((d,u,p)=>{const g=p.creationTimeSeconds*1e3;if(xt(E=>{const M=new Map(E);return M.set(d,{handle:u,submissionId:p.id,time:g}),M}),v){const E=v.problems.find(M=>`${M.contestId}-${M.index}`===d);if(E&&E.rating){const M=Date.now(),I=v.matchDuration*60*1e3,C=v.startTime+I*.75,O=v.finalLap&&M>=C;let P=1;O&&(P*=2);const V=Vt(E.rating,P);Pe(me=>{const fe=new Map(me),zs=fe.get(u)||0;return ke(new Map(me)),fe.set(u,zs+V),fe}),$e(!0),setTimeout(()=>$e(!1),600)}}},[v]),jt=y.useCallback((d,u)=>{if(!v)return;const p=`${u.problem.contestId}-${u.problem.index}`;if(bt(g=>{const E=new Map(g);return E.has(p)||E.set(p,new Map),E.get(p).set(d,u.verdict),E}),u.verdict==="OK"){const g=u.creationTimeSeconds*1e3,E=be.get(p);(!E||g<E.time||g===E.time&&u.id<E.submissionId)&&Nt(p,d,u)}},[v,be,Nt]);y.useEffect(()=>{if(!v||!ye)return;const d=v.players.map(p=>p.handle),u=new Fr(d,v.startTime,jt);return ve.current=u,u.start(),()=>u.stop()},[v,ye,jt]);const St=d=>{d<2&&(d=2),n(d);const u=Array(d).fill("").map((p,g)=>o[g]||"");i(u),l({}),b({})},As=()=>{St(s+1)},Ps=()=>{s>2&&St(s-1)},ks=y.useCallback(async(d,u)=>{if(!u||u.trim().length===0){l(p=>{const g={...p};return delete g[d],g}),b(p=>{const g={...p};return delete g[d],g});return}Ze.current[d]&&clearTimeout(Ze.current[d]),Ze.current[d]=setTimeout(async()=>{try{const p=await Pr(u.trim());p.valid?(l(g=>({...g,[d]:p})),b(g=>{const E={...g};return delete E[d],E})):(b(g=>({...g,[d]:p.error||"Invalid handle"})),l(g=>{const E={...g};return delete E[d],E}))}catch(p){b(g=>({...g,[d]:p.message||"Validation error"}))}},500)},[]),$s=(d,u)=>{const p=[...o];p[d]=u.trim(),i(p),ks(d,u.trim())},Is=d=>{Ae(d),d?(N([]),ee(!1)):h.length===0&&ee(!0)},Ms=d=>{N(u=>u.includes(d)?u.filter(g=>g!==d):[...u,d])},Ls=()=>{N([...te])},Ds=()=>{N([])},Fs=async()=>{if(console.log("Start Battle button clicked"),!L){J("Please select a start time before starting the battle");return}const d=new Date(L).getTime(),u=Date.now();if(d<=u){J("Start time must be in the future");return}if(Object.keys(a).length!==s){J("Please wait for all handles to be validated");return}je(!0),J("");try{const p=`match-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log("Generated match ID:",p);const g=ue?[]:h;console.log("Fetching problems...");const E=await $r(g,w,_);if(E.length===0){J("No problems found matching the criteria"),je(!1);return}console.log(`Found ${E.length} problems, filtering unsolved...`);const M=Object.values(a).map(fe=>fe.handle),I=await Mr(E,M);if(I.length===0){J("No unsolved problems found. Try adjusting categories or max rating."),je(!1);return}console.log(`Found ${I.length} unsolved problems`);let C=I;H>0&&H<I.length&&(C=[...I].sort(()=>Math.random()-.5).slice(0,H)),console.log(`Selected ${C.length} problems for match`);const O={players:Object.values(a),problems:C,finalLap:j,selectedCategories:g,maxRating:w,minRating:_,matchDuration:D,numberOfProblems:H,startTime:d,endTime:d+D*60*1e3,matchId:p};sessionStorage.setItem("matchConfig",JSON.stringify(O));const P=JSON.stringify(O),me=`https://Abdelrahman139.github.io/Codeforces-Sonic-battle-game/#/?invite=${btoa(unescape(encodeURIComponent(P)))}`;ne(me),localStorage.setItem(`matchConfig_${p}`,JSON.stringify(O)),console.log("Match prepared, redirecting to countdown page..."),je(!1),e("/countdown")}catch(p){console.error("Error starting match:",p),J(`Failed to start match: ${p.message}`),je(!1)}},Et=y.useMemo(()=>{if(!(v!=null&&v.problems)||!Array.isArray(v.problems))return new Map;const d=new Map,u=Date.now(),p=(v.matchDuration||60)*60*1e3,E=(v.startTime||u)+p*.75,M=v.finalLap&&u>=E;return v.problems.forEach((I,C)=>{if(!I)return;const O=I.rating||1500;let P=1;M&&(P*=2);const V=Vt(O,P),me=`${I.contestId}-${I.index}`;d.set(me,V)}),d},[v==null?void 0:v.problems,v==null?void 0:v.matchDuration,v==null?void 0:v.startTime,v==null?void 0:v.finalLap]),Qe=y.useMemo(()=>v!=null&&v.players?Array.from(oe.entries()).map(([d,u])=>({handle:d,points:u,player:v.players.find(p=>p.handle===d)})).filter(d=>d.player).sort((d,u)=>u.points-d.points):[],[oe,v==null?void 0:v.players]),_s=Qe.length>0?Qe[0].points:1,Us=y.useMemo(()=>!(v!=null&&v.problems)||!Array.isArray(v.problems)?[]:[...v.problems].map(d=>{if(!d)return null;const u=`${d.contestId}-${d.index}`,p=Et.get(u)||0;return{problem:d,problemId:u,points:p}}).filter(Boolean).sort((d,u)=>(d.problem.rating||0)-(u.problem.rating||0)),[v==null?void 0:v.problems,Et]),Bs=d=>{const u=Math.floor(d/1e3),p=Math.floor(u/60),g=u%60;return`${p}:${g.toString().padStart(2,"0")}`};if(ae)return r.jsx(Ur,{message:Se||"Preparing match..."});const Hs=()=>{ve.current&&ve.current.stop(),sessionStorage.removeItem("matchConfig"),re(null),we(!1),Pe(new Map),ke(new Map),xt(new Map),bt(new Map),ge(0),$e(!1),e("/",{replace:!0})};if(v&&ye){const d=v.matchDuration*60*1e3,u=v.startTime+d*.75,p=v.finalLap&&Date.now()>=u;return r.jsxs("div",{className:`min-h-screen p-4 md:p-8 pt-20 relative transition-colors duration-300 ${S?"bg-gray-900":""}`,style:{zIndex:10},children:[r.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none overflow-hidden",style:{zIndex:0},children:[r.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50vw] h-[50vw] bg-blue-600/10 rounded-full blur-[100px]"}),r.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-yellow-500/10 rounded-full blur-[100px]"})]}),r.jsxs("div",{className:"w-full max-w-[95%] 2xl:max-w-[1800px] mx-auto relative px-4",style:{zIndex:10},children:[r.jsx("div",{className:"absolute top-4 right-4",style:{zIndex:20},children:r.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Hs,className:`px-5 py-2.5 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg backdrop-blur-md ${S?"bg-red-900/80 hover:bg-red-800 text-white border border-red-500/50":"bg-red-600 hover:bg-red-700 text-white shadow-red-500/50"}`,children:[r.jsx("span",{className:"text-xl",children:"ðŸšª"}),r.jsx("span",{children:"Leave Battle"})]})}),r.jsx(dt,{children:gt&&r.jsx(zr,{show:gt,onComplete:()=>$e(!1)})}),r.jsxs("div",{className:"flex flex-col items-center mb-10 relative",children:[r.jsxs(T.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1.5},className:"mb-8 relative w-48 h-48 md:w-64 md:h-64 flex items-center justify-center bg-black/50 rounded-full",children:[r.jsx("div",{className:"sonic-ring-spinner",style:{borderWidth:"4px"}}),r.jsx("img",{src:Vr,alt:"Sonic vs Sonic",className:"w-[90%] h-[90%] object-cover rounded-full drop-shadow-[0_0_25px_rgba(255,215,0,0.4)]"})]}),r.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-2 tracking-tighter italic",style:{color:"#FFD700",textShadow:"0 0 20px rgba(255, 215, 0, 0.5), 2px 2px 0px #b45309"},children:"SONIC BATTLE"}),r.jsxs("div",{className:"flex items-center gap-6 mt-4 p-4 rounded-2xl bg-black/40 backdrop-blur-md border border-white/10",children:[r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("span",{className:"text-xs uppercase tracking-widest text-blue-400 font-bold mb-1",children:"Time Remaining"}),r.jsx("div",{className:`text-4xl font-mono font-bold tracking-widest ${Ie<6e4?"text-red-500 animate-pulse":"text-white"}`,children:Bs(Ie)})]}),p&&r.jsx(T.div,{initial:{scale:0},animate:{scale:1},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-orange-600 rounded-lg font-bold text-white animate-pulse shadow-lg shadow-red-500/30",children:"ðŸ FINAL LAP - 2x POINTS!"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:`sticky top-24 rounded-3xl overflow-hidden border-2 shadow-2xl backdrop-blur-xl ${S?"bg-gray-900/80 border-blue-500/30":"bg-blue-900/80 border-sonic-gold/50"}`,children:[r.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-600/20 to-purple-600/20 border-b border-white/10",children:r.jsx("h2",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sonic-gold to-yellow-300 uppercase tracking-wider flex items-center gap-2",children:"ðŸ† Leaderboard"})}),r.jsx("div",{className:"p-4 space-y-3 max-h-[70vh] overflow-y-auto custom-scrollbar",children:Qe.map((g,E)=>r.jsx(Ss,{player:g.player,points:g.points,previousPoints:Cs.get(g.handle),maxPoints:_s,rank:E+1},g.handle))})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:`rounded-3xl p-6 border-2 shadow-2xl backdrop-blur-xl ${S?"bg-gray-800/60 border-gray-700":"bg-white/10 border-white/20"}`,children:[r.jsx("div",{className:"flex justify-between items-center mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:"ðŸ§©"}),r.jsx("span",{children:"Problems"}),r.jsx("span",{className:"text-sm font-normal px-3 py-1 rounded-full bg-blue-500/20 text-blue-300 border border-blue-500/30",children:"Sorted by Difficulty (Low â†’ High)"})]})}),!v.problems||v.problems.length===0?r.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(g=>r.jsx(qr,{},g))}):r.jsx("div",{className:"grid grid-cols-1 gap-4",style:{contain:"layout style paint"},children:Us.map(({problem:g,problemId:E,points:M})=>{const I=be.get(E),C=Os.get(E)||new Map;let O=null;if(I)O="AC";else{const P=Array.from(C.values());P.includes("OK")?O="AC":P.includes("TIME_LIMIT_EXCEEDED")?O="TLE":P.includes("WRONG_ANSWER")&&(O="WA")}return r.jsx(js,{problem:g,sonicPoints:M,status:O,solvedBy:I==null?void 0:I.handle},E)})})]})})]})]})]})}return r.jsx("div",{className:`min-h-screen p-4 md:p-8 transition-colors duration-300 relative ${S?"bg-gray-900":""}`,style:{zIndex:10},children:r.jsxs("div",{className:"max-w-6xl mx-auto relative",style:{zIndex:10},children:[r.jsxs("div",{className:"text-center mb-10 relative",style:{zIndex:10},children:[r.jsx(T.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`text-5xl md:text-7xl font-extrabold mb-4 tracking-tight ${S?"":"neon-glow"}`,style:{color:"#FFD700"},children:"âš¡ SONIC BATTLE âš¡"}),r.jsx("p",{className:`text-xl md:text-2xl font-medium ${S?"text-gray-300":"text-blue-200"}`,children:"Competitive Coding Arena"})]}),yt&&r.jsxs("div",{className:`mb-8 rounded-2xl p-6 shadow-xl border-2 ${S?"bg-gray-800/80 border-gray-600":"bg-blue-900/80 border-sonic-gold/50"}`,children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Join Battle"}),r.jsxs("div",{className:"flex gap-3 mb-4",children:[r.jsx("input",{type:"text",value:Ge,onChange:d=>Ye(d.target.value),placeholder:"Enter invite code or paste link",className:`flex-1 px-4 py-3 rounded-xl text-white input-field ${S?"input-field-dark-mode":""}`,style:{zIndex:15,pointerEvents:"auto"}}),r.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d=>{d.preventDefault(),d.stopPropagation(),console.log("Join button clicked, invite code:",Ge);const u=Ge.trim();if(!u){J("Please enter an invite code or paste the invite link.");return}let p=null;try{let C=u;if(u.includes("invite=")){const O=u.match(/invite=([^&]+)/);O&&(C=O[1])}if(C.length>50){const O=decodeURIComponent(escape(window.atob(C))),P=JSON.parse(O);P&&P.matchId&&(p=P)}}catch{}if(p){console.log("Serverless match config decoded manually:",p);const C=p,O=Date.now(),P=C.startTime||O,V=O>=P;sessionStorage.setItem("matchConfig",JSON.stringify(C)),J(""),Ne(!1),e(V?"/":"/countdown");return}let g=u;const E=u.match(/invite=([^&]+)/);if(E)g=E[1];else if(u.includes("http"))try{g=new URL(u).searchParams.get("invite")||u}catch{g=u}console.log("Extracted invite ID (legacy):",g);const M=`matchConfig_${g}`;console.log("Looking for match config with key:",M);const I=localStorage.getItem(M);if(I)try{const C=JSON.parse(I);console.log("Match config found:",C);const O=Date.now(),P=C.startTime||O,V=O>=P;console.log("Match status:",{now:O,startTime:P,hasStarted:V}),sessionStorage.setItem("matchConfig",JSON.stringify(C)),J(""),Ne(!1),V?(console.log("Match has started, redirecting to home page"),e("/")):(console.log("Match has not started, redirecting to countdown"),e("/countdown"))}catch(C){console.error("Error loading match:",C),J(`Failed to load match: ${C.message}. Please check the invite code.`)}else{console.log("Match config not found in localStorage");const C=Object.keys(localStorage).filter(O=>O.startsWith("matchConfig_"));console.log("Available match configs in localStorage:",C),J(`Match not found. The invite link may have expired or the battle was created on a different browser. Available matches: ${C.length}`)}},className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl transition-all relative",style:{zIndex:15,pointerEvents:"auto"},children:"Join"})]}),Se&&r.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-900/50 border-2 border-red-500 rounded-xl text-red-100 text-sm font-semibold",children:Se}),r.jsx("div",{className:"flex items-center justify-between mt-4",children:r.jsx("button",{onClick:()=>{Ne(!1),J(""),Ye(""),e("/",{replace:!0})},className:"text-sm text-blue-300 hover:text-blue-200",children:"Cancel"})})]}),!yt&&!v&&r.jsx("div",{className:"mb-8 text-center",children:r.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Ne(!0),className:`px-6 py-3 rounded-xl font-semibold transition-all relative ${S?"bg-gray-700 hover:bg-gray-600 text-white":"bg-blue-700 hover:bg-blue-600 text-white"}`,style:{zIndex:15,pointerEvents:"auto"},children:"âž• Join Battle with Code"})}),r.jsx(Br,{darkMode:S}),r.jsxs("div",{className:`rounded-2xl p-8 md:p-10 shadow-2xl backdrop-blur-sm transition-all duration-300 relative ${S?"card-elevated-dark border-2 border-gray-700":"card-elevated sonic-border"}`,style:{zIndex:10},children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("label",{className:"block text-xl font-bold mb-4 text-sonic-gold",children:"Number of Players"}),r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("button",{onClick:Ps,disabled:s<=2,className:"w-12 h-12 bg-blue-700 hover:bg-blue-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold text-xl rounded-lg transition-all relative",style:{zIndex:15,pointerEvents:s<=2?"none":"auto"},children:"âˆ’"}),r.jsx("input",{type:"text",inputMode:"numeric",min:"2",value:s,lang:"en-US",dir:"ltr",translate:"no",onChange:d=>{const u=d.target.value.replace(/[^0-9]/g,"");n(u);const p=Number(u);if(p>=2){const g=Array(p).fill("").map((E,M)=>o[M]||"");i(g),l({}),b({})}},onBlur:()=>{let d=Number(s)||2;d<2&&(d=2),n(d);const u=Array(d).fill("").map((p,g)=>o[g]||"");i(u),Number(s)!==d&&(l({}),b({}))},className:`w-24 px-4 py-3 border-2 rounded-lg text-center text-xl font-bold focus:outline-none focus:border-sonic-gold focus:ring-2 focus:ring-sonic-gold/50 ${S?"bg-gray-800/50 border-gray-600 text-white":"bg-blue-800/50 border-blue-600 text-white"}`}),r.jsx("button",{onClick:As,className:"w-12 h-12 bg-blue-700 hover:bg-blue-600 text-white font-bold text-xl rounded-lg transition-all relative",style:{zIndex:15,pointerEvents:"auto"},children:"+"})]})]}),r.jsxs("div",{className:"mb-10",children:[r.jsx("label",{className:`block text-xl font-bold mb-5 ${S?"text-gray-200":"text-sonic-gold"}`,children:"Player Handles"}),r.jsx("div",{className:"space-y-4",children:o.map((d,u)=>r.jsx(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},children:r.jsxs("div",{className:"flex gap-4 items-center",children:[r.jsx("input",{type:"text",placeholder:`Player ${u+1} Codeforces Handle`,value:d,onChange:p=>$s(u,p.target.value),className:`flex-1 px-5 py-3.5 input-field text-white placeholder-opacity-60 ${S?"bg-gray-800/50 border-gray-600 placeholder-gray-400":"placeholder-blue-300"}`,disabled:x}),a[u]&&r.jsxs(T.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-3 px-4 py-2 bg-green-500/20 border-2 border-green-500 rounded-xl text-green-400",children:[r.jsx("span",{className:"text-2xl",children:"âœ“"}),r.jsx("span",{className:"font-semibold",children:a[u].rating>0?`Rating: ${a[u].rating}`:"Unrated"})]}),m[u]&&r.jsxs(T.div,{initial:{scale:0},animate:{scale:1},className:"px-4 py-2 bg-red-500/20 border-2 border-red-500 rounded-xl text-red-400 font-semibold",children:["âœ— ",m[u]]})]})},u))})]}),r.jsxs("div",{className:"space-y-6 mb-8",children:[r.jsx(Jr,{darkMode:S,options:[{label:"Restrict to Specific Topics (Filter)",checked:!ue,onChange:d=>Is(!d)},{label:"Final Lap Mode (2x Points in last 25%)",checked:j,onChange:A}],children:!ue&&r.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("span",{className:`text-sm font-bold ${S?"text-gray-400":"text-blue-300"}`,children:["Select Topics (",h.length,")"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:Ls,className:"text-xs px-2 py-1 bg-green-600 rounded text-white hover:bg-green-500 transition-colors",children:"All"}),r.jsx("button",{onClick:Ds,className:"text-xs px-2 py-1 bg-red-600 rounded text-white hover:bg-red-500 transition-colors",children:"None"})]})]}),r.jsx("div",{className:`max-h-64 overflow-y-auto pr-2 custom-scrollbar grid grid-cols-1 md:grid-cols-2 gap-4 ${S?"scrollbar-dark":"scrollbar-light"}`,children:te.map(d=>r.jsxs("label",{className:`flex items-center p-2 rounded-lg cursor-pointer transition-colors hover:translate-x-1 ${S?"hover:bg-gray-700/50":"hover:bg-blue-800/50"}`,children:[r.jsx("input",{type:"checkbox",checked:h.includes(d),onChange:()=>Ms(d),className:"w-4 h-4 mr-3 accent-sonic-gold cursor-pointer"}),r.jsx("span",{className:`text-sm font-medium ${S?"text-gray-300":"text-white"}`,children:d})]},d))}),r.jsx("p",{className:`text-xs text-center italic ${S?"text-gray-500":"text-blue-300"}`,children:h.length===0?"No topics selected (Defaults to All Topics)":""})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:`rounded-xl p-4 border-2 backdrop-blur-sm transition-all duration-200 ${S?"bg-gray-800/40 border-gray-700":"bg-blue-800/20 border-blue-600/40"}`,children:[r.jsx("label",{className:`block text-md font-bold mb-2 ${S?"text-gray-200":"text-sonic-gold"}`,children:"Rating Range"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[r.jsx("label",{className:`text-xs font-bold uppercase ${S?"text-gray-400":"text-blue-300"}`,children:"Min"}),r.jsx("input",{type:"text",inputMode:"numeric",value:_,lang:"en-US",dir:"ltr",translate:"no",onChange:d=>{const u=d.target.value.replace(/[^0-9]/g,"");if(u==="")$("");else{const p=Number(u);p<=3500&&$(p)}},onBlur:()=>{let d=Number(_)||800;d=Math.max(800,Math.min(Number(w)||3500,d)),$(d)},className:`w-full px-1 py-2 text-white text-center text-lg font-bold rounded-lg input-field shadow-inner ${S?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}})]}),r.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[r.jsx("label",{className:`text-xs font-bold uppercase ${S?"text-gray-400":"text-blue-300"}`,children:"Max"}),r.jsx("input",{type:"text",inputMode:"numeric",value:w,lang:"en-US",dir:"ltr",translate:"no",onChange:d=>{const u=d.target.value.replace(/[^0-9]/g,"");if(u==="")k("");else{const p=Number(u);p<=3500&&k(p)}},onBlur:()=>{let d=Number(w)||2e3;d=Math.max(Number(_)||800,Math.min(3500,d)),k(d)},className:`w-full px-1 py-2 text-white text-center text-lg font-bold rounded-lg input-field shadow-inner ${S?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}})]})]}),r.jsx("p",{className:`mt-2 text-center text-xs font-medium ${S?"text-gray-400":"text-blue-300"}`,children:"800 - 3500"})]}),r.jsxs("div",{className:`rounded-xl p-4 border-2 backdrop-blur-sm transition-all duration-200 ${S?"bg-gray-800/60 border-gray-600":"bg-blue-800/30 border-blue-600/50"}`,children:[r.jsx("label",{className:`block text-lg font-bold mb-3 ${S?"text-gray-200":"text-sonic-gold"}`,children:"Duration (min)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",inputMode:"numeric",value:D,lang:"en-US",dir:"ltr",translate:"no",onChange:d=>{const u=d.target.value.replace(/[^0-9]/g,"");if(u==="")B("");else{const p=Number(u);p<=120&&B(p)}},onBlur:()=>{let d=Number(D)||20;d=Math.max(20,Math.min(120,d)),B(d)},className:`w-full px-4 py-3.5 pr-14 text-white text-center text-xl font-bold rounded-xl input-field shadow-inner ${S?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}}),r.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-center gap-0.5",children:[r.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>B(Math.min(120,D+5)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-t-md border-b transition-all ${S?"bg-gray-700 hover:bg-gray-600 border-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 border-blue-500 shadow-md"}`,children:"â–²"}),r.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>B(Math.max(20,D-5)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-b-md transition-all ${S?"bg-gray-700 hover:bg-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 shadow-md"}`,children:"â–¼"})]})]}),r.jsx("p",{className:`mt-3 text-center text-sm font-medium ${S?"text-gray-400":"text-blue-300"}`,children:"20 - 120 min"})]}),r.jsxs("div",{className:`rounded-xl p-4 border-2 backdrop-blur-sm transition-all duration-200 ${S?"bg-gray-800/60 border-gray-600":"bg-blue-800/30 border-blue-600/50"}`,children:[r.jsx("label",{className:`block text-lg font-bold mb-3 ${S?"text-gray-200":"text-sonic-gold"}`,children:"# Problems"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",inputMode:"numeric",value:H,lang:"en-US",dir:"ltr",translate:"no",onChange:d=>{const u=d.target.value.replace(/[^0-9]/g,"");if(u==="")U("");else{const p=Number(u);p<=100&&U(p)}},onBlur:()=>{let d=Number(H)||1;d=Math.max(1,Math.min(100,d)),U(d)},className:`w-full px-4 py-3.5 pr-14 text-white text-center text-xl font-bold rounded-xl input-field shadow-inner ${S?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}}),r.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-center gap-0.5",children:[r.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>U(Math.min(100,H+1)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-t-md border-b transition-all ${S?"bg-gray-700 hover:bg-gray-600 border-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 border-blue-500 shadow-md"}`,children:"â–²"}),r.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>U(Math.max(1,H-1)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-b-md transition-all ${S?"bg-gray-700 hover:bg-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 shadow-md"}`,children:"â–¼"})]})]}),r.jsx("p",{className:`mt-3 text-center text-sm font-medium ${S?"text-gray-400":"text-blue-300"}`,children:"1 - 100"})]})]})]}),r.jsxs("div",{className:`mb-8 p-6 rounded-xl border-2 backdrop-blur-sm transition-all duration-200 ${S?"bg-gray-800/60 border-gray-600":"bg-blue-800/30 border-blue-600/50"}`,children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("span",{className:"text-3xl",children:"ðŸ“…"}),r.jsxs("div",{children:[r.jsx("h3",{className:`text-xl font-bold ${S?"text-gray-200":"text-sonic-gold"}`,children:"Schedule Match"}),r.jsx("p",{className:`text-sm ${S?"text-gray-400":"text-blue-300"}`,children:"Set a start time to sync all players"})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:`text-sm font-semibold uppercase tracking-wider ${S?"text-gray-400":"text-blue-300"}`,children:"Date"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",inputMode:"numeric",value:L?L.split("T")[0]:"",placeholder:"YYYY-MM-DD",lang:"en-US",dir:"ltr",translate:"no",onChange:d=>{const u=d.target.value.replace(/[^0-9-]/g,""),p=L&&L.split("T")[1]||"00:00";z(`${u}T${p}`)},className:`w-full px-4 py-3.5 pr-12 rounded-xl border-2 font-mono text-lg transition-all outline-none 
                        ${S?"bg-gray-900/50 border-gray-600 focus:border-sonic-gold text-white":"bg-blue-900/30 border-blue-500/50 focus:border-sonic-gold text-white"}`,disabled:!!se}),r.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center w-10",children:[r.jsx("input",{type:"date",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",onChange:d=>{const u=d.target.value,p=L&&L.split("T")[1]||"00:00";z(`${u}T${p}`)},min:new Date().toISOString().split("T")[0],disabled:!!se}),r.jsx("span",{className:"text-xl pointer-events-none",children:"ðŸ“…"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:`text-sm font-semibold uppercase tracking-wider ${S?"text-gray-400":"text-blue-300"}`,children:"Time (HH:MM)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",inputMode:"numeric",value:L?L.split("T")[1]||"00:00":"",placeholder:"HH:MM",lang:"en-US",dir:"ltr",translate:"no",onChange:d=>{const u=d.target.value.replace(/[^0-9:]/g,""),p=L?L.split("T")[0]:new Date().toISOString().split("T")[0];z(`${p}T${u}`)},className:`w-full px-4 py-3.5 pr-12 rounded-xl border-2 font-mono text-lg transition-all outline-none 
                        ${S?"bg-gray-900/50 border-gray-600 focus:border-sonic-gold text-white":"bg-blue-900/30 border-blue-500/50 focus:border-sonic-gold text-white"}`,disabled:!!se}),r.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center w-10",children:[r.jsx("input",{type:"time",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",onChange:d=>{const u=d.target.value,p=L?L.split("T")[0]:new Date().toISOString().split("T")[0];z(`${p}T${u}`)},disabled:!!se}),r.jsx("span",{className:"text-xl pointer-events-none",children:"ðŸ•’"})]})]})]})]}),!se&&r.jsxs("div",{children:[r.jsx("label",{className:`block text-xs font-semibold mb-3 uppercase tracking-wider ${S?"text-gray-500":"text-blue-300"}`,children:"Quick Start Options"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:[{label:"Now (+2m)",mins:2},{label:"+5 min",mins:5},{label:"+10 min",mins:10},{label:"+15 min",mins:15},{label:"+30 min",mins:30},{label:"+1 hour",mins:60}].map(d=>r.jsx("button",{onClick:()=>{const u=new Date;u.setMinutes(u.getMinutes()+d.mins);const p=u.getTimezoneOffset()*60*1e3,g=new Date(u.getTime()-p).toISOString().slice(0,16);z(g)},className:`px-4 py-2 rounded-lg text-sm font-bold border transition-all hover:scale-105 active:scale-95 ${S?"bg-gray-700/50 border-gray-600 text-gray-300 hover:bg-gray-600 hover:text-white hover:border-sonic-gold":"bg-blue-700/30 border-blue-500/50 text-blue-100 hover:bg-blue-600 hover:text-white hover:border-sonic-gold"}`,children:d.label},d.label))})]})]})]}),Se&&r.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-5 bg-red-900/50 border-2 border-red-500 rounded-xl text-red-100 font-semibold shadow-lg backdrop-blur-sm",children:Se}),!v&&r.jsx(T.button,{whileHover:{scale:ae||Object.keys(a).length!==s||!L?1:1.02},whileTap:{scale:ae||Object.keys(a).length!==s||!L?1:.98},onClick:d=>{d.preventDefault(),d.stopPropagation(),console.log("Button clicked, calling handleStartBattle"),Fs()},disabled:ae||Object.keys(a).length!==s||!L,className:`w-full py-5 font-extrabold text-2xl rounded-2xl transition-all duration-300 shadow-2xl relative ${ae||Object.keys(a).length!==s||!L?"bg-gradient-to-r from-gray-600 to-gray-700 text-gray-400 cursor-not-allowed":S?"bg-gradient-to-r from-sonic-gold via-yellow-500 to-sonic-gold text-gray-900 hover:from-yellow-400 hover:via-sonic-gold hover:to-yellow-400 shadow-yellow-500/50":"bg-gradient-to-r from-sonic-gold via-yellow-500 to-sonic-gold text-blue-900 hover:from-yellow-400 hover:via-sonic-gold hover:to-yellow-400 shadow-yellow-500/50"}`,style:{zIndex:15,pointerEvents:ae||Object.keys(a).length!==s||!L?"none":"auto"},children:ae?"Preparing Battle...":L?o.some(d=>!d.trim())?"âš ï¸ Please Enter Player Handles":Object.keys(a).length!==s?"Please Wait for Validation":"START BATTLE âš¡":"âš ï¸ Please Select Start Time (Required)"})]})]})})}function Kr(){const e=ct(),[t,s]=y.useState(null),[n,o]=y.useState(0),[i,a]=y.useState(""),[l,x]=y.useState(()=>{const f=localStorage.getItem("darkMode");return f!==null?f==="true":document.body.classList.contains("dark-mode")});return y.useEffect(()=>{const f=new URLSearchParams(window.location.search).get("invite");let m=sessionStorage.getItem("matchConfig");if(!m&&f&&(m=localStorage.getItem(`matchConfig_${f}`),m&&sessionStorage.setItem("matchConfig",m)),!m){e("/");return}try{const b=JSON.parse(m);s(b);const j=b.startTime||Date.now(),A=Date.now(),h=Math.max(0,j-A);o(h);const N=window.location.origin,w=b.matchId?`${N}/?invite=${b.matchId}`:"";a(w);const k=setInterval(()=>{const _=Date.now(),$=Math.max(0,j-_);o($),$<=0&&(clearInterval(k),e("/"))},1e3);return()=>clearInterval(k)}catch(b){console.error("Error loading match config:",b),e("/")}},[e]),y.useEffect(()=>{const f=m=>{x(m.detail)};return window.addEventListener("darkModeChange",f),()=>window.removeEventListener("darkModeChange",f)},[]),y.useEffect(()=>{l?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[l]),t?r.jsx("div",{className:`min-h-screen p-4 md:p-8 pt-20 relative transition-colors duration-300 ${l?"bg-gray-900":""}`,style:{zIndex:10},children:r.jsxs("div",{className:"max-w-4xl mx-auto relative",style:{zIndex:10},children:[r.jsx("div",{className:"text-center mb-8",children:r.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 neon-glow",style:{color:"#FFD700"},children:"âš¡ Battle Starting Soon âš¡"})}),r.jsx(Hr,{countdown:n,inviteLink:i,darkMode:l})]})}):null}function Xr({players:e,solvedProblems:t,problems:s}){const n=y.useMemo(()=>{const o={},i=new Map(t);return e.forEach(a=>{const l=Array.from(i.values()).filter(m=>m.handle===a.handle).length,f=Array.from(i.entries()).filter(([m,b])=>b.handle===a.handle).map(([m,b])=>m).map(m=>{const b=s.find(j=>`${j.contestId}-${j.index}`===m);return b?{id:m,name:`${b.contestId}${b.index}. ${b.name}`,rating:b.rating||0}:null}).filter(Boolean);o[a.handle]={handle:a.handle,solvedCount:l,solvedProblems:f,totalProblems:s.length}}),o},[e,t,s]);return r.jsxs("div",{className:"bg-blue-900/50 rounded-lg p-6 sonic-border",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Player Statistics"}),r.jsx("div",{className:"space-y-4",children:Object.values(n).map((o,i)=>r.jsxs(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.1},className:"p-4 bg-blue-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:o.handle}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-2xl font-bold text-sonic-gold",children:[o.solvedCount,"/",o.totalProblems]}),r.jsx("div",{className:"text-sm text-blue-300",children:"Problems Solved"})]})]}),o.solvedProblems.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-blue-200 mb-2",children:"Solved Problems:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:o.solvedProblems.map(a=>r.jsx(T.span,{initial:{scale:0},animate:{scale:1},className:"px-3 py-1 bg-green-900/50 border border-green-500 rounded-lg text-sm text-green-300",children:a.name},a.id))})]})]},o.handle))})]})}function Gr(){const e=ct(),[t,s]=y.useState(null),[n,o]=y.useState(!1);if(y.useEffect(()=>{const j=sessionStorage.getItem("matchResults");j?s(JSON.parse(j)):e("/")},[e]),!t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10",children:r.jsxs(T.div,{animate:{x:[0,30,-30,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"ðŸƒ"}),r.jsx("div",{className:"text-2xl",children:"Loading results..."})]})});const{players:i,solvedProblems:a,mysteryProblemIndex:l,matchConfig:x}=t,f=new Map(a),m=()=>{o(!0)},b=()=>{var A,h;const j=`${window.location.origin}/results?match=${(x==null?void 0:x.matchId)||"current"}`;navigator.share?navigator.share({title:"Sonic Battle Results",text:`Check out the results! Winner: ${((A=i[0])==null?void 0:A.handle)||"N/A"} with ${((h=i[0])==null?void 0:h.points)||0} points!`,url:j}).catch(N=>{console.log("Error sharing:",N)}):navigator.clipboard.writeText(j).then(()=>{alert("Results link copied to clipboard!")}).catch(()=>{prompt("Copy this link to share:",j)})};return r.jsx("div",{className:"min-h-screen p-4 md:p-8 pt-20 relative",style:{zIndex:10},children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx("div",{className:"text-center mb-8",children:r.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-4 neon-glow",style:{color:"#FFD700"},children:"ðŸ MATCH RESULTS ðŸ"})}),i.length>0&&r.jsxs(T.div,{initial:{scale:0},animate:{scale:1},className:"text-center mb-8 p-8 bg-gradient-to-r from-sonic-gold to-yellow-400 rounded-lg sonic-border",children:[r.jsx("div",{className:"text-6xl mb-4",children:"ðŸ†"}),r.jsxs("div",{className:"text-3xl md:text-4xl font-bold text-blue-900",children:["Winner: ",i[0].handle]}),r.jsxs("div",{className:"text-2xl text-blue-800 mt-2",children:[i[0].points," Sonic Points"]})]}),r.jsxs("div",{className:"mb-8 bg-blue-900/50 rounded-lg p-6 sonic-border",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Final Standings"}),r.jsx("div",{className:"space-y-4",children:i.map((j,A)=>{var h;return r.jsxs(T.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:A*.1},className:"flex items-center justify-between p-4 bg-blue-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:A===0?"ðŸ¥‡":A===1?"ðŸ¥ˆ":A===2?"ðŸ¥‰":"ðŸƒ"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xl font-bold",children:j.handle}),((h=j.playerInfo)==null?void 0:h.rating)>0&&r.jsxs("div",{className:"text-sm text-blue-300",children:["Rating: ",j.playerInfo.rating]})]})]}),r.jsxs("div",{className:"text-2xl font-bold text-sonic-gold",children:[j.points," pts"]})]},j.handle)})})]}),!n&&l>=0&&r.jsx("div",{className:"mb-8 text-center",children:r.jsx("button",{onClick:m,className:"px-8 py-4 bg-purple-600 hover:bg-purple-700 rounded-lg font-bold text-xl transition-all transform hover:scale-105",children:"ðŸ”® Reveal Mystery Problem (2x Points!)"})}),n&&l>=0&&(x==null?void 0:x.problems)&&r.jsxs(T.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mb-8 bg-purple-900/50 rounded-lg p-6 sonic-border",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-purple-300",children:"ðŸ”® Mystery Problem"}),(()=>{const j=x.problems[l],A=`${j.contestId}-${j.index}`,h=f.get(A);return r.jsxs("div",{className:"p-4 bg-purple-800/50 rounded-lg",children:[r.jsxs("div",{className:"text-xl font-bold mb-2",children:[j.contestId,j.index,". ",j.name]}),r.jsxs("div",{className:"text-lg text-purple-200",children:["This problem awarded ",r.jsx("span",{className:"font-bold text-sonic-gold",children:"2x points"}),"!"]}),h&&r.jsxs("div",{className:"mt-2 text-green-400",children:["âœ“ Solved by ",h.handle]})]})})()]}),r.jsx(Xr,{players:(x==null?void 0:x.players)||[],solvedProblems:a,problems:(x==null?void 0:x.problems)||[]}),r.jsxs("div",{className:"mb-8 bg-blue-900/50 rounded-lg p-6 sonic-border",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Problems Solved"}),r.jsxs("div",{className:"space-y-2",children:[Array.from(f.entries()).map(([j,A])=>{var N;const h=(N=x==null?void 0:x.problems)==null?void 0:N.find(w=>`${w.contestId}-${w.index}`===j);return h?r.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-800/50 rounded-lg",children:[r.jsx("div",{children:r.jsxs("a",{href:`https://codeforces.com/problemset/problem/${h.contestId}/${h.index}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-sonic-gold",children:[h.contestId,h.index,". ",h.name]})}),r.jsxs("div",{className:"text-green-400 font-semibold",children:["Solved by ",A.handle]})]},j):null}),f.size===0&&r.jsx("div",{className:"text-center text-blue-300 py-8",children:"No problems were solved in this match."})]})]}),r.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[r.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/"),className:"px-8 py-4 bg-sonic-gold hover:bg-yellow-400 text-blue-900 font-bold text-xl rounded-lg transition-all",children:"New Match"}),r.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"px-8 py-4 bg-green-600 hover:bg-green-700 font-bold text-xl rounded-lg transition-all text-white",children:"ðŸ“¤ Share Results"})]})]})})}function Yr(){const e=Kt(),[t]=y.useState(!0);y.useEffect(()=>{document.body.classList.add("dark-mode"),localStorage.setItem("darkMode","true")},[]);const s=n=>e.pathname==="/";return r.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-gradient-to-r from-blue-900/95 to-blue-800/95 backdrop-blur-md border-b-2 border-sonic-gold/50 shadow-lg",style:{zIndex:50},children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Tt,{to:"/",className:"flex items-center gap-2",children:[r.jsx(T.div,{whileHover:{rotate:360},transition:{duration:.5},className:"text-3xl",children:"âš¡"}),r.jsx("span",{className:"text-xl font-bold text-sonic-gold neon-glow",children:"SONIC BATTLE"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(Tt,{to:"/",className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 relative ${s()&&e.pathname==="/"?"bg-sonic-gold text-blue-900 shadow-lg shadow-yellow-500/50":"text-white hover:bg-blue-700/50"}`,style:{zIndex:15,pointerEvents:"auto"},children:"Home"}),e.pathname==="/results"&&r.jsx("span",{className:"px-4 py-2 rounded-lg font-semibold bg-green-600/80 text-white",children:"Results"})]})]})})})}const Es=Ue.memo(({delay:e,x:t,y:s,duration:n})=>r.jsx(T.div,{initial:{opacity:.2,scale:1,x:0,y:0},className:"absolute text-sonic-gold/15 text-3xl pointer-events-none",style:{left:`${t}%`,top:`${s}%`,willChange:"transform, opacity"},children:"â­•"}));Es.displayName="FloatingRing";const Ts=Ue.memo(({delay:e,x:t,y:s})=>r.jsx(T.div,{initial:{opacity:.2,scale:1},className:"absolute text-sonic-blue/25 text-xl pointer-events-none",style:{left:`${t}%`,top:`${s}%`,willChange:"transform, opacity"},children:"ðŸš©"}));Ts.displayName="Checkpoint";const Wt=(()=>{const e=Array.from({length:4},(s,n)=>({id:n,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2,duration:3+Math.random()*2})),t=Array.from({length:2},(s,n)=>({id:n,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2}));return{rings:e,checkpoints:t}})(),Rs=Ue.memo(()=>r.jsxs("div",{className:"fixed inset-0 overflow-hidden",style:{zIndex:0,pointerEvents:"none"},children:[Wt.rings.map(e=>r.jsx(Es,{delay:e.delay,x:e.x,y:e.y,duration:e.duration},e.id)),Wt.checkpoints.map(e=>r.jsx(Ts,{delay:e.delay,x:e.x,y:e.y},e.id))]}));Rs.displayName="AnimatedBackground";function Zr(){const e=Kt(),t={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},s={type:"tween",ease:"easeInOut",duration:.25};return r.jsxs(r.Fragment,{children:[r.jsx(Rs,{}),r.jsx(Yr,{}),r.jsx("div",{className:"relative pt-16",style:{zIndex:10,position:"relative"},children:r.jsx(dt,{mode:"wait",children:r.jsxs(Ws,{location:e,children:[r.jsx(et,{path:"/",element:r.jsx(T.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:s,children:r.jsx(Wr,{})})}),r.jsx(et,{path:"/countdown",element:r.jsx(T.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:s,children:r.jsx(Kr,{})})}),r.jsx(et,{path:"/results",element:r.jsx(T.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:s,children:r.jsx(Gr,{})})})]},e.pathname)})})]})}function Qr(){return r.jsx(Vs,{children:r.jsx(Zr,{})})}rt.createRoot(document.getElementById("root")).render(r.jsx(Ue.StrictMode,{children:r.jsx(Qr,{})}));
