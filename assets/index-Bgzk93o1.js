import{r as S,a as Vn,u as Nt,b as Kn,c as Yt,L as Ot,R as nt,H as Xn,d as Zn,e as ft}from"./react-vendor-BdGqppvM.js";import{m as M,u as Gn,A as St}from"./animation-vendor-S9lvpStp.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qt={exports:{}},rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yn=S,Qn=Symbol.for("react.element"),er=Symbol.for("react.fragment"),tr=Object.prototype.hasOwnProperty,nr=Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rr={key:!0,ref:!0,__self:!0,__source:!0};function en(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)tr.call(t,r)&&!rr.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Qn,type:e,key:i,ref:a,props:s,_owner:nr.current}}rt.Fragment=er;rt.jsx=en;rt.jsxs=en;Qt.exports=rt;var o=Qt.exports,bt={},Pt=Vn;bt.createRoot=Pt.createRoot,bt.hydrateRoot=Pt.hydrateRoot;function tn(e,t){return function(){return e.apply(t,arguments)}}const{toString:sr}=Object.prototype,{getPrototypeOf:jt}=Object,{iterator:st,toStringTag:nn}=Symbol,ot=(e=>t=>{const n=sr.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),be=e=>(e=e.toLowerCase(),t=>ot(t)===e),at=e=>t=>typeof t===e,{isArray:Le}=Array,Fe=at("undefined");function ze(e){return e!==null&&!Fe(e)&&e.constructor!==null&&!Fe(e.constructor)&&fe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rn=be("ArrayBuffer");function or(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rn(e.buffer),t}const ar=at("string"),fe=at("function"),sn=at("number"),qe=e=>e!==null&&typeof e=="object",ir=e=>e===!0||e===!1,Ye=e=>{if(ot(e)!=="object")return!1;const t=jt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nn in e)&&!(st in e)},lr=e=>{if(!qe(e)||ze(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cr=be("Date"),dr=be("File"),ur=be("Blob"),fr=be("FileList"),mr=e=>qe(e)&&fe(e.pipe),hr=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||fe(e.append)&&((t=ot(e))==="formdata"||t==="object"&&fe(e.toString)&&e.toString()==="[object FormData]"))},pr=be("URLSearchParams"),[gr,br,xr,yr]=["ReadableStream","Request","Response","Headers"].map(be),wr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Je(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Le(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(ze(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let c;for(r=0;r<a;r++)c=i[r],t.call(null,e[c],c,e)}}function on(e,t){if(ze(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,an=e=>!Fe(e)&&e!==Re;function xt(){const{caseless:e,skipUndefined:t}=an(this)&&this||{},n={},r=(s,i)=>{const a=e&&on(n,i)||i;Ye(n[a])&&Ye(s)?n[a]=xt(n[a],s):Ye(s)?n[a]=xt({},s):Le(s)?n[a]=s.slice():(!t||!Fe(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Je(arguments[s],r);return n}const vr=(e,t,n,{allOwnKeys:r}={})=>(Je(t,(s,i)=>{n&&fe(s)?e[i]=tn(s,n):e[i]=s},{allOwnKeys:r}),e),Nr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sr=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},jr=(e,t,n,r)=>{let s,i,a;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=n!==!1&&jt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Er=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Tr=e=>{if(!e)return null;if(Le(e))return e;let t=e.length;if(!sn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Cr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jt(Uint8Array)),Rr=(e,t)=>{const r=(e&&e[st]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Mr=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Or=be("HTMLFormElement"),Pr=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),At=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ar=be("RegExp"),ln=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Je(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},Ir=e=>{ln(e,(t,n)=>{if(fe(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(fe(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kr=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Le(e)?r(e):r(String(e).split(t)),n},$r=()=>{},Fr=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Lr(e){return!!(e&&fe(e.append)&&e[nn]==="FormData"&&e[st])}const Dr=e=>{const t=new Array(10),n=(r,s)=>{if(qe(r)){if(t.indexOf(r)>=0)return;if(ze(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Le(r)?[]:{};return Je(r,(a,c)=>{const y=n(a,s+1);!Fe(y)&&(i[c]=y)}),t[s]=void 0,i}}return r};return n(e,0)},_r=be("AsyncFunction"),Ur=e=>e&&(qe(e)||fe(e))&&fe(e.then)&&fe(e.catch),cn=((e,t)=>e?setImmediate:t?((n,r)=>(Re.addEventListener("message",({source:s,data:i})=>{s===Re&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Re.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fe(Re.postMessage)),Br=typeof queueMicrotask<"u"?queueMicrotask.bind(Re):typeof process<"u"&&process.nextTick||cn,Hr=e=>e!=null&&fe(e[st]),d={isArray:Le,isArrayBuffer:rn,isBuffer:ze,isFormData:hr,isArrayBufferView:or,isString:ar,isNumber:sn,isBoolean:ir,isObject:qe,isPlainObject:Ye,isEmptyObject:lr,isReadableStream:gr,isRequest:br,isResponse:xr,isHeaders:yr,isUndefined:Fe,isDate:cr,isFile:dr,isBlob:ur,isRegExp:Ar,isFunction:fe,isStream:mr,isURLSearchParams:pr,isTypedArray:Cr,isFileList:fr,forEach:Je,merge:xt,extend:vr,trim:wr,stripBOM:Nr,inherits:Sr,toFlatObject:jr,kindOf:ot,kindOfTest:be,endsWith:Er,toArray:Tr,forEachEntry:Rr,matchAll:Mr,isHTMLForm:Or,hasOwnProperty:At,hasOwnProp:At,reduceDescriptors:ln,freezeMethods:Ir,toObjectSet:kr,toCamelCase:Pr,noop:$r,toFiniteNumber:Fr,findKey:on,global:Re,isContextDefined:an,isSpecCompliantForm:Lr,toJSONObject:Dr,isAsyncFn:_r,isThenable:Ur,setImmediate:cn,asap:Br,isIterable:Hr};function I(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}d.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const dn=I.prototype,un={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{un[e]={value:e}});Object.defineProperties(I,un);Object.defineProperty(dn,"isAxiosError",{value:!0});I.from=(e,t,n,r,s,i)=>{const a=Object.create(dn);d.toFlatObject(e,a,function(h){return h!==Error.prototype},g=>g!=="isAxiosError");const c=e&&e.message?e.message:"Error",y=t==null&&e?e.code:t;return I.call(a,c,y,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const zr=null;function yt(e){return d.isPlainObject(e)||d.isArray(e)}function fn(e){return d.endsWith(e,"[]")?e.slice(0,-2):e}function It(e,t,n){return e?e.concat(t).map(function(s,i){return s=fn(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function qr(e){return d.isArray(e)&&!e.some(yt)}const Jr=d.toFlatObject(d,{},null,function(t){return/^is[A-Z]/.test(t)});function it(e,t,n){if(!d.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=d.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!d.isUndefined(w[j])});const r=n.metaTokens,s=n.visitor||h,i=n.dots,a=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(t);if(!d.isFunction(s))throw new TypeError("visitor must be a function");function g(b){if(b===null)return"";if(d.isDate(b))return b.toISOString();if(d.isBoolean(b))return b.toString();if(!y&&d.isBlob(b))throw new I("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(b)||d.isTypedArray(b)?y&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,j,w){let z=b;if(b&&!w&&typeof b=="object"){if(d.endsWith(j,"{}"))j=r?j:j.slice(0,-2),b=JSON.stringify(b);else if(d.isArray(b)&&qr(b)||(d.isFileList(b)||d.endsWith(j,"[]"))&&(z=d.toArray(b)))return j=fn(j),z.forEach(function(B,W){!(d.isUndefined(B)||B===null)&&t.append(a===!0?It([j],W,i):a===null?j:j+"[]",g(B))}),!1}return yt(b)?!0:(t.append(It(w,j,i),g(b)),!1)}const v=[],T=Object.assign(Jr,{defaultVisitor:h,convertValue:g,isVisitable:yt});function D(b,j){if(!d.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+j.join("."));v.push(b),d.forEach(b,function(z,G){(!(d.isUndefined(z)||z===null)&&s.call(t,z,d.isString(G)?G.trim():G,j,T))===!0&&D(z,j?j.concat(G):[G])}),v.pop()}}if(!d.isObject(e))throw new TypeError("data must be an object");return D(e),t}function kt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Et(e,t){this._pairs=[],e&&it(e,this,t)}const mn=Et.prototype;mn.append=function(t,n){this._pairs.push([t,n])};mn.toString=function(t){const n=t?function(r){return t.call(this,r,kt)}:kt;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Wr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hn(e,t,n){if(!t)return e;const r=n&&n.encode||Wr;d.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=d.isURLSearchParams(t)?t.toString():new Et(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class $t{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(r){r!==null&&t(r)})}}const pn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vr=typeof URLSearchParams<"u"?URLSearchParams:Et,Kr=typeof FormData<"u"?FormData:null,Xr=typeof Blob<"u"?Blob:null,Zr={isBrowser:!0,classes:{URLSearchParams:Vr,FormData:Kr,Blob:Xr},protocols:["http","https","file","blob","url","data"]},Tt=typeof window<"u"&&typeof document<"u",wt=typeof navigator=="object"&&navigator||void 0,Gr=Tt&&(!wt||["ReactNative","NativeScript","NS"].indexOf(wt.product)<0),Yr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qr=Tt&&window.location.href||"http://localhost",es=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tt,hasStandardBrowserEnv:Gr,hasStandardBrowserWebWorkerEnv:Yr,navigator:wt,origin:Qr},Symbol.toStringTag,{value:"Module"})),le={...es,...Zr};function ts(e,t){return it(e,new le.classes.URLSearchParams,{visitor:function(n,r,s,i){return le.isNode&&d.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function ns(e){return d.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function rs(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function gn(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),y=i>=n.length;return a=!a&&d.isArray(s)?s.length:a,y?(d.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!c):((!s[a]||!d.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&d.isArray(s[a])&&(s[a]=rs(s[a])),!c)}if(d.isFormData(e)&&d.isFunction(e.entries)){const n={};return d.forEachEntry(e,(r,s)=>{t(ns(r),s,n,0)}),n}return null}function ss(e,t,n){if(d.isString(e))try{return(t||JSON.parse)(e),d.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const We={transitional:pn,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=d.isObject(t);if(i&&d.isHTMLForm(t)&&(t=new FormData(t)),d.isFormData(t))return s?JSON.stringify(gn(t)):t;if(d.isArrayBuffer(t)||d.isBuffer(t)||d.isStream(t)||d.isFile(t)||d.isBlob(t)||d.isReadableStream(t))return t;if(d.isArrayBufferView(t))return t.buffer;if(d.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ts(t,this.formSerializer).toString();if((c=d.isFileList(t))||r.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return it(c?{"files[]":t}:t,y&&new y,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),ss(t)):t}],transformResponse:[function(t){const n=this.transitional||We.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(d.isResponse(t)||d.isReadableStream(t))return t;if(t&&d.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(c){if(a)throw c.name==="SyntaxError"?I.from(c,I.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],e=>{We.headers[e]={}});const os=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),as=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&os[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ft=Symbol("internals");function He(e){return e&&String(e).trim().toLowerCase()}function Qe(e){return e===!1||e==null?e:d.isArray(e)?e.map(Qe):String(e)}function is(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ls=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mt(e,t,n,r,s){if(d.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!d.isString(t)){if(d.isString(r))return t.indexOf(r)!==-1;if(d.isRegExp(r))return r.test(t)}}function cs(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ds(e,t){const n=d.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}let me=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(c,y,g){const h=He(y);if(!h)throw new Error("header name must be a non-empty string");const v=d.findKey(s,h);(!v||s[v]===void 0||g===!0||g===void 0&&s[v]!==!1)&&(s[v||y]=Qe(c))}const a=(c,y)=>d.forEach(c,(g,h)=>i(g,h,y));if(d.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(d.isString(t)&&(t=t.trim())&&!ls(t))a(as(t),n);else if(d.isObject(t)&&d.isIterable(t)){let c={},y,g;for(const h of t){if(!d.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[g=h[0]]=(y=c[g])?d.isArray(y)?[...y,h[1]]:[y,h[1]]:h[1]}a(c,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=He(t),t){const r=d.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return is(s);if(d.isFunction(n))return n.call(this,s,r);if(d.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=He(t),t){const r=d.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||mt(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=He(a),a){const c=d.findKey(r,a);c&&(!n||mt(r,r[c],c,n))&&(delete r[c],s=!0)}}return d.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||mt(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return d.forEach(this,(s,i)=>{const a=d.findKey(r,i);if(a){n[a]=Qe(s),delete n[i];return}const c=t?cs(i):String(i).trim();c!==i&&delete n[i],n[c]=Qe(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return d.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&d.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Ft]=this[Ft]={accessors:{}}).accessors,s=this.prototype;function i(a){const c=He(a);r[c]||(ds(s,a),r[c]=!0)}return d.isArray(t)?t.forEach(i):i(t),this}};me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(me.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});d.freezeMethods(me);function ht(e,t){const n=this||We,r=t||n,s=me.from(r.headers);let i=r.data;return d.forEach(e,function(c){i=c.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function bn(e){return!!(e&&e.__CANCEL__)}function De(e,t,n){I.call(this,e??"canceled",I.ERR_CANCELED,t,n),this.name="CanceledError"}d.inherits(De,I,{__CANCEL__:!0});function xn(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new I("Request failed with status code "+n.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function us(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fs(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(y){const g=Date.now(),h=r[i];a||(a=g),n[s]=y,r[s]=g;let v=i,T=0;for(;v!==s;)T+=n[v++],v=v%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),g-a<t)return;const D=h&&g-h;return D?Math.round(T*1e3/D):void 0}}function ms(e,t){let n=0,r=1e3/t,s,i;const a=(g,h=Date.now())=>{n=h,s=null,i&&(clearTimeout(i),i=null),e(...g)};return[(...g)=>{const h=Date.now(),v=h-n;v>=r?a(g,h):(s=g,i||(i=setTimeout(()=>{i=null,a(s)},r-v)))},()=>s&&a(s)]}const tt=(e,t,n=3)=>{let r=0;const s=fs(50,250);return ms(i=>{const a=i.loaded,c=i.lengthComputable?i.total:void 0,y=a-r,g=s(y),h=a<=c;r=a;const v={loaded:a,total:c,progress:c?a/c:void 0,bytes:y,rate:g||void 0,estimated:g&&c&&h?(c-a)/g:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(v)},n)},Lt=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Dt=e=>(...t)=>d.asap(()=>e(...t)),hs=le.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,le.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,ps=le.hasStandardBrowserEnv?{write(e,t,n,r,s,i,a){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];d.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),d.isString(r)&&c.push(`path=${r}`),d.isString(s)&&c.push(`domain=${s}`),i===!0&&c.push("secure"),d.isString(a)&&c.push(`SameSite=${a}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gs(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function yn(e,t,n){let r=!gs(t);return e&&(r||n==!1)?bs(e,t):t}const _t=e=>e instanceof me?{...e}:e;function Oe(e,t){t=t||{};const n={};function r(g,h,v,T){return d.isPlainObject(g)&&d.isPlainObject(h)?d.merge.call({caseless:T},g,h):d.isPlainObject(h)?d.merge({},h):d.isArray(h)?h.slice():h}function s(g,h,v,T){if(d.isUndefined(h)){if(!d.isUndefined(g))return r(void 0,g,v,T)}else return r(g,h,v,T)}function i(g,h){if(!d.isUndefined(h))return r(void 0,h)}function a(g,h){if(d.isUndefined(h)){if(!d.isUndefined(g))return r(void 0,g)}else return r(void 0,h)}function c(g,h,v){if(v in t)return r(g,h);if(v in e)return r(void 0,g)}const y={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(g,h,v)=>s(_t(g),_t(h),v,!0)};return d.forEach(Object.keys({...e,...t}),function(h){const v=y[h]||s,T=v(e[h],t[h],h);d.isUndefined(T)&&v!==c||(n[h]=T)}),n}const wn=e=>{const t=Oe({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:c}=t;if(t.headers=a=me.from(a),t.url=hn(yn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),d.isFormData(n)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(d.isFunction(n.getHeaders)){const y=n.getHeaders(),g=["content-type","content-length"];Object.entries(y).forEach(([h,v])=>{g.includes(h.toLowerCase())&&a.set(h,v)})}}if(le.hasStandardBrowserEnv&&(r&&d.isFunction(r)&&(r=r(t)),r||r!==!1&&hs(t.url))){const y=s&&i&&ps.read(i);y&&a.set(s,y)}return t},xs=typeof XMLHttpRequest<"u",ys=xs&&function(e){return new Promise(function(n,r){const s=wn(e);let i=s.data;const a=me.from(s.headers).normalize();let{responseType:c,onUploadProgress:y,onDownloadProgress:g}=s,h,v,T,D,b;function j(){D&&D(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function z(){if(!w)return;const B=me.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),te={data:!c||c==="text"||c==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:B,config:e,request:w};xn(function(Q){n(Q),j()},function(Q){r(Q),j()},te),w=null}"onloadend"in w?w.onloadend=z:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(z)},w.onabort=function(){w&&(r(new I("Request aborted",I.ECONNABORTED,e,w)),w=null)},w.onerror=function(W){const te=W&&W.message?W.message:"Network Error",se=new I(te,I.ERR_NETWORK,e,w);se.event=W||null,r(se),w=null},w.ontimeout=function(){let W=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const te=s.transitional||pn;s.timeoutErrorMessage&&(W=s.timeoutErrorMessage),r(new I(W,te.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,e,w)),w=null},i===void 0&&a.setContentType(null),"setRequestHeader"in w&&d.forEach(a.toJSON(),function(W,te){w.setRequestHeader(te,W)}),d.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),c&&c!=="json"&&(w.responseType=s.responseType),g&&([T,b]=tt(g,!0),w.addEventListener("progress",T)),y&&w.upload&&([v,D]=tt(y),w.upload.addEventListener("progress",v),w.upload.addEventListener("loadend",D)),(s.cancelToken||s.signal)&&(h=B=>{w&&(r(!B||B.type?new De(null,e,w):B),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const G=us(s.url);if(G&&le.protocols.indexOf(G)===-1){r(new I("Unsupported protocol "+G+":",I.ERR_BAD_REQUEST,e));return}w.send(i||null)})},ws=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(g){if(!s){s=!0,c();const h=g instanceof Error?g:this.reason;r.abort(h instanceof I?h:new De(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,i(new I(`timeout ${t} of ms exceeded`,I.ETIMEDOUT))},t);const c=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(i):g.removeEventListener("abort",i)}),e=null)};e.forEach(g=>g.addEventListener("abort",i));const{signal:y}=r;return y.unsubscribe=()=>d.asap(c),y}},vs=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Ns=async function*(e,t){for await(const n of Ss(e))yield*vs(n,t)},Ss=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Ut=(e,t,n,r)=>{const s=Ns(e,t);let i=0,a,c=y=>{a||(a=!0,r&&r(y))};return new ReadableStream({async pull(y){try{const{done:g,value:h}=await s.next();if(g){c(),y.close();return}let v=h.byteLength;if(n){let T=i+=v;n(T)}y.enqueue(new Uint8Array(h))}catch(g){throw c(g),g}},cancel(y){return c(y),s.return()}},{highWaterMark:2})},Bt=64*1024,{isFunction:Ge}=d,js=(({Request:e,Response:t})=>({Request:e,Response:t}))(d.global),{ReadableStream:Ht,TextEncoder:zt}=d.global,qt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Es=e=>{e=d.merge.call({skipUndefined:!0},js,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ge(t):typeof fetch=="function",i=Ge(n),a=Ge(r);if(!s)return!1;const c=s&&Ge(Ht),y=s&&(typeof zt=="function"?(b=>j=>b.encode(j))(new zt):async b=>new Uint8Array(await new n(b).arrayBuffer())),g=i&&c&&qt(()=>{let b=!1;const j=new n(le.origin,{body:new Ht,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!j}),h=a&&c&&qt(()=>d.isReadableStream(new r("").body)),v={stream:h&&(b=>b.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!v[b]&&(v[b]=(j,w)=>{let z=j&&j[b];if(z)return z.call(j);throw new I(`Response type '${b}' is not supported`,I.ERR_NOT_SUPPORT,w)})});const T=async b=>{if(b==null)return 0;if(d.isBlob(b))return b.size;if(d.isSpecCompliantForm(b))return(await new n(le.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(d.isArrayBufferView(b)||d.isArrayBuffer(b))return b.byteLength;if(d.isURLSearchParams(b)&&(b=b+""),d.isString(b))return(await y(b)).byteLength},D=async(b,j)=>{const w=d.toFiniteNumber(b.getContentLength());return w??T(j)};return async b=>{let{url:j,method:w,data:z,signal:G,cancelToken:B,timeout:W,onDownloadProgress:te,onUploadProgress:se,responseType:Q,headers:Se,withCredentials:xe="same-origin",fetchOptions:je}=wn(b),Pe=t||fetch;Q=Q?(Q+"").toLowerCase():"text";let C=ws([G,B&&B.toAbortSignal()],W),ye=null;const pe=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let q;try{if(se&&g&&w!=="get"&&w!=="head"&&(q=await D(Se,z))!==0){let l=new n(j,{method:"POST",body:z,duplex:"half"}),E;if(d.isFormData(z)&&(E=l.headers.get("content-type"))&&Se.setContentType(E),l.body){const[p,P]=Lt(q,tt(Dt(se)));z=Ut(l.body,Bt,p,P)}}d.isString(xe)||(xe=xe?"include":"omit");const ne=i&&"credentials"in n.prototype,we={...je,signal:C,method:w.toUpperCase(),headers:Se.normalize().toJSON(),body:z,duplex:"half",credentials:ne?xe:void 0};ye=i&&new n(j,we);let ge=await(i?Pe(ye,je):Pe(j,we));const _e=h&&(Q==="stream"||Q==="response");if(h&&(te||_e&&pe)){const l={};["status","statusText","headers"].forEach(A=>{l[A]=ge[A]});const E=d.toFiniteNumber(ge.headers.get("content-length")),[p,P]=te&&Lt(E,tt(Dt(te),!0))||[];ge=new r(Ut(ge.body,Bt,p,()=>{P&&P(),pe&&pe()}),l)}Q=Q||"text";let f=await v[d.findKey(v,Q)||"text"](ge,b);return!_e&&pe&&pe(),await new Promise((l,E)=>{xn(l,E,{data:f,headers:me.from(ge.headers),status:ge.status,statusText:ge.statusText,config:b,request:ye})})}catch(ne){throw pe&&pe(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new I("Network Error",I.ERR_NETWORK,b,ye),{cause:ne.cause||ne}):I.from(ne,ne&&ne.code,b,ye)}}},Ts=new Map,vn=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a=i.length,c=a,y,g,h=Ts;for(;c--;)y=i[c],g=h.get(y),g===void 0&&h.set(y,g=c?new Map:Es(t)),h=g;return g};vn();const Ct={http:zr,xhr:ys,fetch:{get:vn}};d.forEach(Ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Jt=e=>`- ${e}`,Cs=e=>d.isFunction(e)||e===null||e===!1;function Rs(e,t){e=d.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){r=e[a];let c;if(s=r,!Cs(r)&&(s=Ct[(c=String(r)).toLowerCase()],s===void 0))throw new I(`Unknown adapter '${c}'`);if(s&&(d.isFunction(s)||(s=s.get(t))))break;i[c||"#"+a]=s}if(!s){const a=Object.entries(i).map(([y,g])=>`adapter ${y} `+(g===!1?"is not supported by the environment":"is not available in the build"));let c=n?a.length>1?`since :
`+a.map(Jt).join(`
`):" "+Jt(a[0]):"as no adapter specified";throw new I("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const Nn={getAdapter:Rs,adapters:Ct};function pt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new De(null,e)}function Wt(e){return pt(e),e.headers=me.from(e.headers),e.data=ht.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nn.getAdapter(e.adapter||We.adapter,e)(e).then(function(r){return pt(e),r.data=ht.call(e,e.transformResponse,r),r.headers=me.from(r.headers),r},function(r){return bn(r)||(pt(e),r&&r.response&&(r.response.data=ht.call(e,e.transformResponse,r.response),r.response.headers=me.from(r.response.headers))),Promise.reject(r)})}const Sn="1.13.2",lt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lt[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Vt={};lt.transitional=function(t,n,r){function s(i,a){return"[Axios v"+Sn+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,c)=>{if(t===!1)throw new I(s(a," has been removed"+(n?" in "+n:"")),I.ERR_DEPRECATED);return n&&!Vt[a]&&(Vt[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,c):!0}};lt.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Ms(e,t,n){if(typeof e!="object")throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const c=e[i],y=c===void 0||a(c,i,e);if(y!==!0)throw new I("option "+i+" must be "+y,I.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new I("Unknown option "+i,I.ERR_BAD_OPTION)}}const et={assertOptions:Ms,validators:lt},Ne=et.validators;let Me=class{constructor(t){this.defaults=t||{},this.interceptors={request:new $t,response:new $t}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Oe(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&et.assertOptions(r,{silentJSONParsing:Ne.transitional(Ne.boolean),forcedJSONParsing:Ne.transitional(Ne.boolean),clarifyTimeoutError:Ne.transitional(Ne.boolean)},!1),s!=null&&(d.isFunction(s)?n.paramsSerializer={serialize:s}:et.assertOptions(s,{encode:Ne.function,serialize:Ne.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),et.assertOptions(n,{baseUrl:Ne.spelling("baseURL"),withXsrfToken:Ne.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&d.merge(i.common,i[n.method]);i&&d.forEach(["delete","get","head","post","put","patch","common"],b=>{delete i[b]}),n.headers=me.concat(a,i);const c=[];let y=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(n)===!1||(y=y&&j.synchronous,c.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let h,v=0,T;if(!y){const b=[Wt.bind(this),void 0];for(b.unshift(...c),b.push(...g),T=b.length,h=Promise.resolve(n);v<T;)h=h.then(b[v++],b[v++]);return h}T=c.length;let D=n;for(;v<T;){const b=c[v++],j=c[v++];try{D=b(D)}catch(w){j.call(this,w);break}}try{h=Wt.call(this,D)}catch(b){return Promise.reject(b)}for(v=0,T=g.length;v<T;)h=h.then(g[v++],g[v++]);return h}getUri(t){t=Oe(this.defaults,t);const n=yn(t.baseURL,t.url,t.allowAbsoluteUrls);return hn(n,t.params,t.paramsSerializer)}};d.forEach(["delete","get","head","options"],function(t){Me.prototype[t]=function(n,r){return this.request(Oe(r||{},{method:t,url:n,data:(r||{}).data}))}});d.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,c){return this.request(Oe(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Me.prototype[t]=n(),Me.prototype[t+"Form"]=n(!0)});let Os=class jn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(c=>{r.subscribe(c),i=c}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,c){r.reason||(r.reason=new De(i,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new jn(function(s){t=s}),cancel:t}}};function Ps(e){return function(n){return e.apply(null,n)}}function As(e){return d.isObject(e)&&e.isAxiosError===!0}const vt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vt).forEach(([e,t])=>{vt[t]=e});function En(e){const t=new Me(e),n=tn(Me.prototype.request,t);return d.extend(n,Me.prototype,t,{allOwnKeys:!0}),d.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return En(Oe(e,s))},n}const Y=En(We);Y.Axios=Me;Y.CanceledError=De;Y.CancelToken=Os;Y.isCancel=bn;Y.VERSION=Sn;Y.toFormData=it;Y.AxiosError=I;Y.Cancel=Y.CanceledError;Y.all=function(t){return Promise.all(t)};Y.spread=Ps;Y.isAxiosError=As;Y.mergeConfig=Oe;Y.AxiosHeaders=me;Y.formToJSON=e=>gn(d.isHTMLForm(e)?new FormData(e):e);Y.getAdapter=Nn.getAdapter;Y.HttpStatusCode=vt;Y.default=Y;const{Axios:io,AxiosError:lo,CanceledError:co,isCancel:uo,CancelToken:fo,VERSION:mo,all:ho,Cancel:po,isAxiosError:go,spread:bo,toFormData:xo,AxiosHeaders:yo,HttpStatusCode:wo,formToJSON:vo,getAdapter:No,mergeConfig:So}=Y,ct="https://codeforces.com/api",Kt=2e3;let Xt=0;async function dt(e){var r;const n=Date.now()-Xt;n<Kt&&await new Promise(s=>setTimeout(s,Kt-n)),Xt=Date.now();try{const s=await Y.get(e,{timeout:1e4});if(s.data.status==="OK")return s.data.result;throw new Error(s.data.comment||"Codeforces API error")}catch(s){throw s.response?new Error(`Codeforces API error: ${s.response.status} - ${((r=s.response.data)==null?void 0:r.comment)||"Unknown error"}`):s}}async function Is(e){try{const t=await dt(`${ct}/user.info?handles=${e}`);return t&&t.length>0?{valid:!0,handle:t[0].handle,rating:t[0].rating||0,maxRating:t[0].maxRating||0,avatar:t[0].avatar||null}:{valid:!1,error:"Handle not found"}}catch(t){return{valid:!1,error:t.message}}}async function ks(){try{const e=await dt(`${ct}/problemset.problems`);if(!e||!e.problems)return[];const t=new Set;return e.problems.forEach(n=>{n.tags&&Array.isArray(n.tags)&&n.tags.forEach(r=>t.add(r))}),Array.from(t).sort()}catch(e){return console.error("Error fetching tags:",e),[]}}async function $s(e=[],t=3e3,n=800){try{const r=await dt(`${ct}/problemset.problems`);return!r||!r.problems?[]:r.problems.filter(i=>i.rating&&(i.rating>t||i.rating<n)?!1:e.length>0?e.some(a=>i.tags.includes(a)):!0)}catch(r){throw console.error("Error fetching problems:",r),r}}async function Tn(e){try{return await dt(`${ct}/user.status?handle=${e}`)||[]}catch(t){throw console.error(`Error fetching status for ${e}:`,t),t}}async function Fs(e){const t={};for(const n of e)try{t[n]=await Tn(n)}catch(r){console.error(`Failed to fetch status for ${n}:`,r),t[n]=[]}return t}async function Ls(e,t){if(t.length===0)return e;const n=new Set,r=2;for(let s=0;s<t.length;s+=r){const i=t.slice(s,s+r),a=await Fs(i);Object.values(a).forEach(c=>{c.forEach(y=>{if(y.verdict==="OK"){const g=`${y.problem.contestId}-${y.problem.index}`;n.add(g)}})})}return e.filter(s=>{const i=`${s.contestId}-${s.index}`;return!n.has(i)})}function Ds(e){(!e||e<800)&&(e=800);const t=(e-800)/200,n=500*Math.pow(1.32,t);return Math.round(n)}function Zt(e,t=1){return Math.round(Ds(e)*t)}const _s=5e3;class Us{constructor(t,n,r){this.handles=t,this.matchStartTime=n,this.onNewSubmission=r,this.lastSubmissionIds=new Map,this.isPolling=!1,this.pollingInterval=null,this.lastPollTime=new Map,t.forEach(s=>{this.lastSubmissionIds.set(s,-1),this.lastPollTime.set(s,0)})}start(){this.isPolling||(this.isPolling=!0,this.poll(),this.pollingInterval=setInterval(()=>{this.poll()},_s))}stop(){this.isPolling=!1,this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}async poll(){for(const t of this.handles)try{await this.pollHandle(t),await new Promise(n=>setTimeout(n,500))}catch(n){console.error(`Error polling handle ${t}:`,n)}}async pollHandle(t){try{const r=(await Tn(t)).filter(a=>a.creationTimeSeconds*1e3>=this.matchStartTime);r.sort((a,c)=>a.id-c.id);const s=this.lastSubmissionIds.get(t),i=r.filter(a=>a.id>s);if(i.length>0){const a=Math.max(...i.map(c=>c.id));this.lastSubmissionIds.set(t,a),i.forEach(c=>{this.onNewSubmission(t,c)})}}catch(n){console.error(`Error polling handle ${t}:`,n)}}}const Cn="/Codeforces-Sonic-battle-game/assets/sonic-avatar-CZ9HXqrH.png";function Bs({message:e="Loading..."}){return o.jsx("div",{className:"fixed inset-0 bg-gray-900/95 backdrop-blur-xl z-50 flex items-center justify-center",children:o.jsxs("div",{className:"sonic-neon-container",children:[o.jsxs("div",{className:"sonic-avatar-container",children:[o.jsx("div",{className:"sonic-ring-spinner"}),o.jsx("img",{src:Cn,alt:"Sonic Loading",className:"sonic-avatar"})]}),o.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold loading-text mb-2",children:e}),o.jsx("p",{className:"loading-subtext",children:"Preparing the Zone..."})]})]})})}function Hs({message:e="Loading..."}){return o.jsx(Bs,{message:e})}function zs({darkMode:e}){const[t,n]=S.useState(!1),r=[{title:"Game Setup",icon:"ðŸŽ®",content:["Choose 2-4 players with unique Codeforces handles.","Select specific topics or All Topics.","Set difficulty (800-3000) and duration.","Enable 'Final Lap' for 2x points in last 25%!"]},{title:"Match Logic",icon:"ðŸŽ¯",content:["Hidden 'Mystery Problem' awards 2x points.","First to solve gets the points (lowest submission ID).","Already solved problems are filtered out.","Real-time 5s checks for submissions."]},{title:"Scoring System",icon:"ðŸ’Ž",content:["Points = 500 Ã— (1.32^((Rating - 800)/200))","Stack multipliers: Mystery (2x) + Final Lap (2x) = 4x!","Example: 1500 rating = ~1134 points base."]},{title:"Problem Status",icon:"ðŸ“Š",content:["âœ… AC: Points awarded","âŒ WA: Incorrect output","âš ï¸ TLE: Too slow","Ratings & Tags hidden during match!"]},{title:"Features",icon:"âš¡",content:["Live Leaderboard with Sonic sprites","Ring Collection Animations","Dark Mode Default","Detailed Results & Mystery Reveal"]},{title:"Tips & Strategy",icon:"ðŸ’¡",content:["Speed is key for claiming points.","Save hard problems for Final Lap (2x).","Balance difficulty vs time.","Watch opponents' progress!"]}];return o.jsx(M.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8 rounded-2xl p-0.5 relative bg-gradient-to-r from-sonic-gold/30 to-blue-500/30",style:{zIndex:10},children:o.jsxs("div",{className:`rounded-2xl p-6 shadow-xl backdrop-blur-md ${e?"bg-gray-900/90":"bg-blue-900/90"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[o.jsx("span",{className:"text-4xl",children:"ðŸ“š"})," How to Play"]}),o.jsx("button",{onClick:()=>n(!t),className:`px-6 py-2 rounded-xl font-bold transition-all duration-200 border-2 ${e?"bg-gray-800 hover:bg-gray-700 text-white border-gray-600":"bg-blue-700 hover:bg-blue-600 text-white border-blue-400"}`,children:t?"â–² Collapse":"â–¼ Expand"})]}),t&&o.jsx(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((s,i)=>o.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.05},className:`p-5 rounded-xl border-2 transition-all hover:scale-[1.02] ${e?"bg-gray-800/50 border-gray-700 hover:border-gray-500":"bg-blue-800/20 border-blue-400/30 hover:border-sonic-gold/50"}`,children:[o.jsxs("h3",{className:"text-xl font-bold text-sonic-gold mb-3 flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:s.icon})," ",s.title]}),o.jsx("ul",{className:"space-y-2",children:s.content.map((a,c)=>o.jsxs("li",{className:`text-sm flex items-start gap-2 ${e?"text-gray-300":"text-blue-100"}`,children:[o.jsx("span",{className:"text-sonic-gold mt-1",children:"â€¢"}),o.jsx("span",{children:a})]},c))})]},i))})]})})}function qs({countdown:e,inviteLink:t,darkMode:n}){const[r,s]=S.useState(!1),i=c=>{const y=Math.floor(c/1e3),g=Math.floor(y/3600),h=Math.floor(y%3600/60),v=y%60;return g>0?`${g}:${h.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`:`${h}:${v.toString().padStart(2,"0")}`},a=()=>{t&&navigator.clipboard.writeText(t).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)}).catch(c=>{console.error("Failed to copy:",c)})};return o.jsxs(M.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`mt-8 p-10 rounded-3xl border-2 backdrop-blur-xl relative overflow-hidden transition-all duration-300 ${n?"bg-gray-900/80 border-blue-500/30 shadow-[0_0_50px_rgba(59,130,246,0.2)]":"bg-blue-900/80 border-sonic-gold/50 shadow-[0_0_50px_rgba(251,191,36,0.3)]"}`,children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -z-10 animate-pulse"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-yellow-500/10 rounded-full blur-3xl -z-10 animate-pulse",style:{animationDelay:"1s"}}),o.jsxs("div",{className:"flex flex-col items-center text-center z-10 relative",children:[o.jsx("div",{className:"sonic-neon-container mb-8 scale-110",children:o.jsxs("div",{className:"sonic-avatar-container",children:[o.jsx("div",{className:"sonic-ring-spinner"}),o.jsx("img",{src:Cn,alt:"Sonic Waiting",className:"sonic-avatar"})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"text-sm font-bold uppercase tracking-widest text-blue-400 mb-2",children:"Time Until Battle"}),o.jsx("div",{className:"text-6xl md:text-8xl font-black tabular-nums tracking-tight loading-text",children:i(e)})]}),o.jsx("p",{className:`text-xl font-medium mb-8 max-w-lg ${n?"text-gray-300":"text-blue-100"}`,children:"Sharpen your claws! The zone is loading and the battle will start automatically."}),t&&o.jsx(M.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"w-full max-w-2xl p-1 rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-blue-600 p-[2px]",children:o.jsxs("div",{className:`p-5 rounded-2xl ${n?"bg-gray-900":"bg-blue-950"} h-full`,children:[o.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wider text-center text-blue-400 mb-3",children:[o.jsx("span",{className:"mr-2",children:"ðŸ”—"}),"  Invite Challengers"]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[o.jsx("div",{className:`flex-1 flex items-center px-4 py-3 rounded-xl border border-white/10 ${n?"bg-black/40":"bg-black/30"} min-w-0 overflow-hidden`,children:o.jsx("code",{className:"text-sm text-blue-200 truncate font-mono select-all w-full",children:t})}),o.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:`px-8 py-3 font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-2 min-w-[140px] ${r?"bg-blue-600 text-white shadow-blue-500/20":"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white shadow-green-500/20"}`,children:o.jsx(M.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r?"COPIED! âœ“":"COPY"},r?"copied":"copy")})]})]})})]})]})}const Rn=S.memo(({problem:e,sonicPoints:t,status:n,solvedBy:r,onClick:s})=>{const i=`https://codeforces.com/problemset/problem/${e.contestId}/${e.index}`,c=(()=>{switch(n){case"AC":return{bg:"bg-green-900/40",border:"border-green-500",text:"text-green-400",badge:"bg-green-600",label:"AC"};case"WA":return{bg:"bg-red-900/40",border:"border-red-500",text:"text-red-400",badge:"bg-red-600",label:"WA"};case"TLE":return{bg:"bg-yellow-900/40",border:"border-yellow-500",text:"text-yellow-400",badge:"bg-yellow-600",label:"TLE"};default:return{bg:"bg-blue-900/50",border:"border-blue-600",text:"text-blue-300",badge:null,label:null}}})();return o.jsxs(M.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},className:`relative p-4 rounded-lg border-2 transition-all ${c.bg} ${c.border} hover:border-sonic-gold`,style:{willChange:"auto"},children:[c.badge&&o.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 ${c.badge} text-white text-xs font-bold rounded`,children:c.label}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1 pr-4",children:[o.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-bold text-white hover:text-sonic-gold transition-colors",children:[e.contestId,e.index,". ",e.name]}),r&&o.jsxs("div",{className:`text-sm mt-1 ${c.text} font-semibold`,children:["âœ“ Solved by: ",r]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-sonic-gold neon-glow",children:Math.round(t)}),o.jsx("div",{className:"text-xs text-blue-300",children:"Points"})]})]})]})});Rn.displayName="ProblemCard";const Mn=S.memo(({player:e,points:t,maxPoints:n,rank:r,previousPoints:s})=>{const i=n>0?t/n*100:0,a=n>0&&s!==void 0?s/n*100:0,c=`${i}%`,y=Gn(),g=S.useRef(!1);S.useEffect(()=>{s!==void 0&&t>s&&(g.current=!0,y.start({scale:[1,1.2,1],transition:{duration:.5}}),setTimeout(()=>{g.current=!1},500))},[t,s,y]);const h={1:"from-sonic-gold to-yellow-400",2:"from-gray-300 to-gray-400",3:"from-orange-600 to-orange-500",4:"from-blue-400 to-blue-500"},v={1:"ðŸ¥‡",2:"ðŸ¥ˆ",3:"ðŸ¥‰",4:"ðŸƒ"};return o.jsxs(M.div,{className:"relative mb-4",animate:y,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:v[r]||"ðŸƒ"}),o.jsx("span",{className:"font-bold text-lg",children:e.handle}),e.rating>0&&o.jsxs("span",{className:"text-sm text-blue-300",children:["(",e.rating,")"]})]}),o.jsxs(M.div,{className:"text-right",animate:g.current?{scale:[1,1.2,1],color:["#FFD700","#FFFF00","#FFD700"]}:{},transition:{duration:.5},children:[o.jsx("div",{className:"text-xl font-bold text-sonic-gold",children:t}),o.jsx("div",{className:"text-xs text-blue-300",children:"points"})]})]}),o.jsxs("div",{className:"track-lane h-8 rounded-full overflow-hidden relative",children:[o.jsx(M.div,{initial:{width:a},animate:{width:`${i}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full bg-gradient-to-r ${h[r]||"from-blue-500 to-blue-400"} shadow-lg relative`,children:g.current&&o.jsx(M.div,{initial:{opacity:.5,scale:1},animate:{opacity:0,scale:1.5},transition:{duration:.5},className:"absolute inset-0 bg-white/30 rounded-full"})}),o.jsx(M.div,{initial:{left:a>0?`${a}%`:"0%"},animate:{left:c},transition:{duration:.5,ease:"easeOut"},className:"absolute top-0 h-8 w-8 flex items-center justify-center text-xl pointer-events-none",style:{transform:"translateX(-50%)"},children:o.jsx("span",{className:"drop-shadow-lg",children:"âš¡"})})]})]})});Mn.displayName="PlayerProgress";function Js({show:e,onComplete:t}){const[n,r]=S.useState(e);return S.useEffect(()=>{if(e){r(!0);const s=setTimeout(()=>{r(!1),t==null||t()},600);return()=>clearTimeout(s)}},[e,t]),n?o.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 flex items-center justify-center",children:o.jsx(M.div,{initial:{scale:0,rotate:0,opacity:1},animate:{scale:2,rotate:360,opacity:0},transition:{duration:.6,ease:"easeOut"},className:"text-6xl",children:"ðŸ’Ž"})}):null}function Ws(){return o.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4 rounded-lg border-2 bg-blue-900/50 border-blue-600 animate-pulse",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-6 bg-blue-700/50 rounded w-3/4 mb-2"}),o.jsx("div",{className:"h-4 bg-blue-700/30 rounded w-1/2"})]}),o.jsx("div",{className:"h-8 w-16 bg-blue-700/50 rounded"})]})})}function Vs({options:e,darkMode:t,children:n}){const[r,s]=S.useState(!1),i=S.useRef(null);return S.useEffect(()=>{const a=c=>{i.current&&!i.current.contains(c.target)&&s(!1)};return r&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[r]),o.jsxs("div",{className:"relative mb-6",ref:i,children:[o.jsxs("button",{onClick:()=>s(!r),className:`w-full flex items-center justify-between px-6 py-4 rounded-xl font-bold text-lg transition-all duration-300 border-2 shadow-lg ${t?"bg-gray-800/60 border-gray-600 text-white hover:bg-gray-700/60":"bg-blue-900/60 border-sonic-gold text-white hover:bg-blue-800/70"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl",children:"âš™ï¸"}),o.jsx("span",{children:"Customize Match"})]}),o.jsx(M.span,{animate:{rotate:r?180:0},transition:{duration:.2},className:"text-sonic-gold",children:"â–¼"})]}),o.jsx(St,{children:r&&o.jsx(M.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.2},className:`mt-2 rounded-xl overflow-hidden shadow-2xl border-2 backdrop-blur-xl ${t?"bg-gray-900/95 border-gray-600":"bg-black/80 border-sonic-gold"}`,children:o.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((a,c)=>o.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all duration-200 ${t?"bg-gray-800/50 border-gray-700 hover:border-gray-500 hover:bg-gray-800":"bg-blue-800/20 border-blue-400/30 hover:border-sonic-gold/50 hover:bg-blue-800/30"}`,children:[o.jsx("span",{className:`font-semibold ${t?"text-gray-200":"text-white"}`,children:a.label}),o.jsx("button",{onClick:()=>a.onChange(!a.checked),className:`relative w-14 h-8 rounded-full transition-all duration-300 ${a.checked?"bg-sonic-gold shadow-[0_0_10px_rgba(255,215,0,0.5)]":"bg-gray-600"}`,children:o.jsx(M.div,{className:"absolute top-1 left-1 w-6 h-6 rounded-full bg-white shadow-md",animate:{x:a.checked?24:0},transition:{type:"spring",stiffness:500,damping:30}})})]},c))})})})]})}const Ks="/Codeforces-Sonic-battle-game/assets/sonic-vs-DZExhZ7P.png";function Xs(){const e=Nt(),[t]=Kn(),[n,r]=S.useState(2),[s,i]=S.useState(()=>{try{const u=localStorage.getItem("savedPlayerHandles");if(u){const m=JSON.parse(u);if(Array.isArray(m)&&m.length>=2)return m}}catch(u){console.error("Failed to load saved handles:",u)}return["",""]}),[a,c]=S.useState({}),[y,g]=S.useState(!1),[h,v]=S.useState({}),[T,D]=S.useState(!1),[b,j]=S.useState([]),[w,z]=S.useState(2e3),[G,B]=S.useState(800),[W,te]=S.useState(60),[se,Q]=S.useState(10),[Se,xe]=S.useState(!1),[je,Pe]=S.useState(!1),[C]=S.useState(!0),[ye,pe]=S.useState([]),[q,ne]=S.useState(""),[we,ge]=S.useState(null),[_e,f]=S.useState(null),[l,E]=S.useState(""),[p,P]=S.useState(null),[A,k]=S.useState(new Map),[O,$]=S.useState(new Map),[U,V]=S.useState(new Map),[J,K]=S.useState(new Map),[ee,F]=S.useState(!1),[re,oe]=S.useState(0),[ae,ce]=S.useState(!1),he=S.useRef(null),[de,Ue]=S.useState(""),[Ve,Te]=S.useState(!1),[ve,Ce]=S.useState(!1),[Ee,ie]=S.useState(""),Ke=S.useRef(null),Ae=S.useRef({}),Be=S.useRef(null);S.useEffect(()=>{let u=!0;return(async()=>{try{const x=await ks();u&&pe(x)}catch(x){console.error("Error fetching tags:",x)}})(),()=>{u=!1}},[]),S.useEffect(()=>{const u=m=>{Ke.current&&!Ke.current.contains(m.target)&&xe(!1)};return Se&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[Se]),S.useEffect(()=>()=>{Be.current&&clearInterval(Be.current)},[]),S.useEffect(()=>{const u=setTimeout(()=>{s.some(m=>m.length>0)&&localStorage.setItem("savedPlayerHandles",JSON.stringify(s))},500);return()=>clearTimeout(u)},[s]),S.useEffect(()=>{const u=sessionStorage.getItem("matchConfig"),m=t.get("invite")||new URLSearchParams(window.location.search).get("invite");if(u)try{const x=JSON.parse(u);if(x.players&&Array.isArray(x.players)&&x.players.length>0&&x.problems&&Array.isArray(x.problems)){const N=Date.now(),R=x.startTime||N,Z=x.endTime||R+(x.matchDuration||60)*60*1e3,X=N>=R;P(x),ce(X),oe(X?Math.max(0,Z-N):Math.max(0,R-N));const L=new Map,_=new Map;x.players.forEach(H=>{H&&H.handle&&(L.set(H.handle,0),_.set(H.handle,0))}),k(L),$(_)}}catch(x){console.error("Error parsing match config:",x)}else if(m){let x=null;try{if(m.length>50){const N=decodeURIComponent(escape(window.atob(m))),R=JSON.parse(N);R&&R.matchId&&(x=R,console.log("Successfully decoded serverless match config"))}}catch{}if(!x){console.log("Loading match config from local storage for invite:",m);const N=localStorage.getItem(`matchConfig_${m}`);if(N)try{x=JSON.parse(N)}catch(R){console.error("Error parsing local config:",R)}}if(x){const N=x,R=Date.now(),Z=N.startTime||R,X=N.endTime||Z+(N.matchDuration||60)*60*1e3,L=R>=Z;sessionStorage.setItem("matchConfig",JSON.stringify(N)),P(N),ce(L),oe(L?Math.max(0,X-R):Math.max(0,Z-R));const _=new Map,H=new Map;N.players.forEach(ue=>{ue&&ue.handle&&(_.set(ue.handle,0),H.set(ue.handle,0))}),k(_),$(H),L||e("/countdown");return}Te(!0),Ue(m),ie("Match not found. The invite link might be invalid or expired.")}},[t]),S.useEffect(()=>{if(!p)return;const u=setInterval(()=>{const m=Date.now(),x=p.startTime||m,N=p.endTime||x+(p.matchDuration||60)*60*1e3;m<x?(oe(Math.max(0,x-m)),ce(!1)):(ce(!0),oe(Math.max(0,N-m)))},1e3);return()=>clearInterval(u)},[p]),S.useEffect(()=>{if(!p||re>0||!ae)return;he.current&&he.current.stop();const u={players:Array.from(A.entries()).map(([m,x])=>({handle:m,points:x,playerInfo:p.players.find(N=>N.handle===m)})).sort((m,x)=>x.points-m.points),solvedProblems:Array.from(U.entries()),matchConfig:p};sessionStorage.setItem("matchResults",JSON.stringify(u)),e("/results")},[re,p,A,U,e,ae]);const Ie=S.useCallback((u,m,x)=>{const N=x.creationTimeSeconds*1e3;if(V(R=>{const Z=new Map(R);return Z.set(u,{handle:m,submissionId:x.id,time:N}),Z}),p){const R=p.problems.find(Z=>`${Z.contestId}-${Z.index}`===u);if(R&&R.rating){const Z=Date.now(),X=p.matchDuration*60*1e3,L=p.startTime+X*.75,_=p.finalLap&&Z>=L;let H=1;_&&(H*=2);const ue=Zt(R.rating,H);k(ke=>{const $e=new Map(ke),Wn=$e.get(m)||0;return $(new Map(ke)),$e.set(m,Wn+ue),$e}),F(!0),setTimeout(()=>F(!1),600)}}},[p]),Xe=S.useCallback((u,m)=>{if(!p)return;const x=`${m.problem.contestId}-${m.problem.index}`;if(K(N=>{const R=new Map(N);return R.has(x)||R.set(x,new Map),R.get(x).set(u,m.verdict),R}),m.verdict==="OK"){const N=m.creationTimeSeconds*1e3,R=U.get(x);(!R||N<R.time||N===R.time&&m.id<R.submissionId)&&Ie(x,u,m)}},[p,U,Ie]);S.useEffect(()=>{if(!p||!ae)return;const u=p.players.map(x=>x.handle),m=new Us(u,p.startTime,Xe);return he.current=m,m.start(),()=>m.stop()},[p,ae,Xe]);const Ze=u=>{u<2&&(u=2),r(u);const m=Array(u).fill("").map((x,N)=>s[N]||"");i(m),c({}),v({})},In=()=>{Ze(n+1)},kn=()=>{n>2&&Ze(n-1)},$n=S.useCallback(async(u,m)=>{if(!m||m.trim().length===0){c(x=>{const N={...x};return delete N[u],N}),v(x=>{const N={...x};return delete N[u],N});return}Ae.current[u]&&clearTimeout(Ae.current[u]),Ae.current[u]=setTimeout(async()=>{try{const x=await Is(m.trim());x.valid?(c(N=>({...N,[u]:x})),v(N=>{const R={...N};return delete R[u],R})):(v(N=>({...N,[u]:x.error||"Invalid handle"})),c(N=>{const R={...N};return delete R[u],R}))}catch(x){v(N=>({...N,[u]:x.message||"Validation error"}))}},500)},[]),Fn=(u,m)=>{const x=[...s];x[u]=m.trim(),i(x),$n(u,m.trim())},Ln=u=>{Pe(u),u?(j([]),xe(!1)):b.length===0&&xe(!0)},Dn=u=>{j(m=>m.includes(u)?m.filter(N=>N!==u):[...m,u])},_n=()=>{j([...ye])},Un=()=>{j([])},Bn=async()=>{if(console.log("Start Battle button clicked"),!q){ie("Please select a start time before starting the battle");return}const u=new Date(q).getTime(),m=Date.now();if(u<=m){ie("Start time must be in the future");return}if(Object.keys(a).length!==n){ie("Please wait for all handles to be validated");return}Ce(!0),ie("");try{const x=`match-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log("Generated match ID:",x);const N=je?[]:b;console.log("Fetching problems...");const R=await $s(N,w,G);if(R.length===0){ie("No problems found matching the criteria"),Ce(!1);return}console.log(`Found ${R.length} problems, filtering unsolved...`);const Z=Object.values(a).map($e=>$e.handle),X=await Ls(R,Z);if(X.length===0){ie("No unsolved problems found. Try adjusting categories or max rating."),Ce(!1);return}console.log(`Found ${X.length} unsolved problems`);let L=X;se>0&&se<X.length&&(L=[...X].sort(()=>Math.random()-.5).slice(0,se)),console.log(`Selected ${L.length} problems for match`);const _={players:Object.values(a),problems:L,finalLap:T,selectedCategories:N,maxRating:w,minRating:G,matchDuration:W,numberOfProblems:se,startTime:u,endTime:u+W*60*1e3,matchId:x};sessionStorage.setItem("matchConfig",JSON.stringify(_));const H=JSON.stringify(_),ke=`https://Abdelrahman139.github.io/Codeforces-Sonic-battle-game/#/?invite=${btoa(unescape(encodeURIComponent(H)))}`;E(ke),localStorage.setItem(`matchConfig_${x}`,JSON.stringify(_)),console.log("Match prepared, redirecting to countdown page..."),Ce(!1),e("/countdown")}catch(x){console.error("Error starting match:",x),ie(`Failed to start match: ${x.message}`),Ce(!1)}},Mt=S.useMemo(()=>{if(!(p!=null&&p.problems)||!Array.isArray(p.problems))return new Map;const u=new Map,m=Date.now(),x=(p.matchDuration||60)*60*1e3,R=(p.startTime||m)+x*.75,Z=p.finalLap&&m>=R;return p.problems.forEach((X,L)=>{if(!X)return;const _=X.rating||1500;let H=1;Z&&(H*=2);const ue=Zt(_,H),ke=`${X.contestId}-${X.index}`;u.set(ke,ue)}),u},[p==null?void 0:p.problems,p==null?void 0:p.matchDuration,p==null?void 0:p.startTime,p==null?void 0:p.finalLap]),ut=S.useMemo(()=>p!=null&&p.players?Array.from(A.entries()).map(([u,m])=>({handle:u,points:m,player:p.players.find(x=>x.handle===u)})).filter(u=>u.player).sort((u,m)=>m.points-u.points):[],[A,p==null?void 0:p.players]),Hn=ut.length>0?ut[0].points:1,zn=S.useMemo(()=>!(p!=null&&p.problems)||!Array.isArray(p.problems)?[]:[...p.problems].map(u=>{if(!u)return null;const m=`${u.contestId}-${u.index}`,x=Mt.get(m)||0;return{problem:u,problemId:m,points:x}}).filter(Boolean).sort((u,m)=>(u.problem.rating||0)-(m.problem.rating||0)),[p==null?void 0:p.problems,Mt]),qn=u=>{const m=Math.floor(u/1e3),x=Math.floor(m/60),N=m%60;return`${x}:${N.toString().padStart(2,"0")}`};if(ve)return o.jsx(Hs,{message:Ee||"Preparing match..."});const Jn=()=>{he.current&&he.current.stop(),sessionStorage.removeItem("matchConfig"),P(null),ce(!1),k(new Map),$(new Map),V(new Map),K(new Map),oe(0),F(!1),e("/",{replace:!0})};if(p&&ae){const u=p.matchDuration*60*1e3,m=p.startTime+u*.75,x=p.finalLap&&Date.now()>=m;return o.jsxs("div",{className:`min-h-screen p-4 md:p-8 pt-20 relative transition-colors duration-300 ${C?"bg-gray-900":""}`,style:{zIndex:10},children:[o.jsxs("div",{className:"fixed top-0 left-0 w-full h-full pointer-events-none overflow-hidden",style:{zIndex:0},children:[o.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50vw] h-[50vw] bg-blue-600/10 rounded-full blur-[100px]"}),o.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-yellow-500/10 rounded-full blur-[100px]"})]}),o.jsxs("div",{className:"w-full max-w-[95%] 2xl:max-w-[1800px] mx-auto relative px-4",style:{zIndex:10},children:[o.jsx("div",{className:"absolute top-4 right-4",style:{zIndex:20},children:o.jsxs(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Jn,className:`px-5 py-2.5 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg backdrop-blur-md ${C?"bg-red-900/80 hover:bg-red-800 text-white border border-red-500/50":"bg-red-600 hover:bg-red-700 text-white shadow-red-500/50"}`,children:[o.jsx("span",{className:"text-xl",children:"ðŸšª"}),o.jsx("span",{children:"Leave Battle"})]})}),o.jsx(St,{children:ee&&o.jsx(Js,{show:ee,onComplete:()=>F(!1)})}),o.jsxs("div",{className:"flex flex-col items-center mb-10 relative",children:[o.jsxs(M.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:1.5},className:"mb-8 relative w-48 h-48 md:w-64 md:h-64 flex items-center justify-center bg-black/50 rounded-full",children:[o.jsx("div",{className:"sonic-ring-spinner",style:{borderWidth:"4px"}}),o.jsx("img",{src:Ks,alt:"Sonic vs Sonic",className:"w-[90%] h-[90%] object-cover rounded-full drop-shadow-[0_0_25px_rgba(255,215,0,0.4)]"})]}),o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-2 tracking-tighter italic",style:{color:"#FFD700",textShadow:"0 0 20px rgba(255, 215, 0, 0.5), 2px 2px 0px #b45309"},children:"SONIC BATTLE"}),o.jsxs("div",{className:"flex items-center gap-6 mt-4 p-4 rounded-2xl bg-black/40 backdrop-blur-md border border-white/10",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs uppercase tracking-widest text-blue-400 font-bold mb-1",children:"Time Remaining"}),o.jsx("div",{className:`text-4xl font-mono font-bold tracking-widest ${re<6e4?"text-red-500 animate-pulse":"text-white"}`,children:qn(re)})]}),x&&o.jsx(M.div,{initial:{scale:0},animate:{scale:1},className:"px-4 py-2 bg-gradient-to-r from-red-600 to-orange-600 rounded-lg font-bold text-white animate-pulse shadow-lg shadow-red-500/30",children:"ðŸ FINAL LAP - 2x POINTS!"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:`sticky top-24 rounded-3xl overflow-hidden border-2 shadow-2xl backdrop-blur-xl ${C?"bg-gray-900/80 border-blue-500/30":"bg-blue-900/80 border-sonic-gold/50"}`,children:[o.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-600/20 to-purple-600/20 border-b border-white/10",children:o.jsx("h2",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sonic-gold to-yellow-300 uppercase tracking-wider flex items-center gap-2",children:"ðŸ† Leaderboard"})}),o.jsx("div",{className:"p-4 space-y-3 max-h-[70vh] overflow-y-auto custom-scrollbar",children:ut.map((N,R)=>o.jsx(Mn,{player:N.player,points:N.points,previousPoints:O.get(N.handle),maxPoints:Hn,rank:R+1},N.handle))})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:`rounded-3xl p-6 border-2 shadow-2xl backdrop-blur-xl ${C?"bg-gray-800/60 border-gray-700":"bg-white/10 border-white/20"}`,children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[o.jsx("span",{className:"text-3xl",children:"ðŸ§©"}),o.jsx("span",{children:"Problems"}),o.jsx("span",{className:"text-sm font-normal px-3 py-1 rounded-full bg-blue-500/20 text-blue-300 border border-blue-500/30",children:"Sorted by Difficulty (Low â†’ High)"})]})}),!p.problems||p.problems.length===0?o.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(N=>o.jsx(Ws,{},N))}):o.jsx("div",{className:"grid grid-cols-1 gap-4",style:{contain:"layout style paint"},children:zn.map(({problem:N,problemId:R,points:Z})=>{const X=U.get(R),L=J.get(R)||new Map;let _=null;if(X)_="AC";else{const H=Array.from(L.values());H.includes("OK")?_="AC":H.includes("TIME_LIMIT_EXCEEDED")?_="TLE":H.includes("WRONG_ANSWER")&&(_="WA")}return o.jsx(Rn,{problem:N,sonicPoints:Z,status:_,solvedBy:X==null?void 0:X.handle},R)})})]})})]})]})]})}return o.jsx("div",{className:`min-h-screen p-4 md:p-8 transition-colors duration-300 relative ${C?"bg-gray-900":""}`,style:{zIndex:10},children:o.jsxs("div",{className:"max-w-6xl mx-auto relative",style:{zIndex:10},children:[o.jsxs("div",{className:"text-center mb-10 relative",style:{zIndex:10},children:[o.jsx(M.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`text-5xl md:text-7xl font-extrabold mb-4 tracking-tight ${C?"":"neon-glow"}`,style:{color:"#FFD700"},children:"âš¡ SONIC BATTLE âš¡"}),o.jsx("p",{className:`text-xl md:text-2xl font-medium ${C?"text-gray-300":"text-blue-200"}`,children:"Competitive Coding Arena"})]}),Ve&&o.jsxs("div",{className:`mb-8 rounded-2xl p-6 shadow-xl border-2 ${C?"bg-gray-800/80 border-gray-600":"bg-blue-900/80 border-sonic-gold/50"}`,children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Join Battle"}),o.jsxs("div",{className:"flex gap-3 mb-4",children:[o.jsx("input",{type:"text",value:de,onChange:u=>Ue(u.target.value),placeholder:"Enter invite code or paste link",className:`flex-1 px-4 py-3 rounded-xl text-white input-field ${C?"input-field-dark-mode":""}`,style:{zIndex:15,pointerEvents:"auto"}}),o.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u=>{u.preventDefault(),u.stopPropagation(),console.log("Join button clicked, invite code:",de);const m=de.trim();if(!m){ie("Please enter an invite code or paste the invite link.");return}let x=null;try{let L=m;if(m.includes("invite=")){const _=m.match(/invite=([^&]+)/);_&&(L=_[1])}if(L.length>50){const _=decodeURIComponent(escape(window.atob(L))),H=JSON.parse(_);H&&H.matchId&&(x=H)}}catch{}if(x){console.log("Serverless match config decoded manually:",x);const L=x,_=Date.now(),H=L.startTime||_,ue=_>=H;sessionStorage.setItem("matchConfig",JSON.stringify(L)),ie(""),Te(!1),e(ue?"/":"/countdown");return}let N=m;const R=m.match(/invite=([^&]+)/);if(R)N=R[1];else if(m.includes("http"))try{N=new URL(m).searchParams.get("invite")||m}catch{N=m}console.log("Extracted invite ID (legacy):",N);const Z=`matchConfig_${N}`;console.log("Looking for match config with key:",Z);const X=localStorage.getItem(Z);if(X)try{const L=JSON.parse(X);console.log("Match config found:",L);const _=Date.now(),H=L.startTime||_,ue=_>=H;console.log("Match status:",{now:_,startTime:H,hasStarted:ue}),sessionStorage.setItem("matchConfig",JSON.stringify(L)),ie(""),Te(!1),ue?(console.log("Match has started, redirecting to home page"),e("/")):(console.log("Match has not started, redirecting to countdown"),e("/countdown"))}catch(L){console.error("Error loading match:",L),ie(`Failed to load match: ${L.message}. Please check the invite code.`)}else{console.log("Match config not found in localStorage");const L=Object.keys(localStorage).filter(_=>_.startsWith("matchConfig_"));console.log("Available match configs in localStorage:",L),ie(`Match not found. The invite link may have expired or the battle was created on a different browser. Available matches: ${L.length}`)}},className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl transition-all relative",style:{zIndex:15,pointerEvents:"auto"},children:"Join"})]}),Ee&&o.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 p-4 bg-red-900/50 border-2 border-red-500 rounded-xl text-red-100 text-sm font-semibold",children:Ee}),o.jsx("div",{className:"flex items-center justify-between mt-4",children:o.jsx("button",{onClick:()=>{Te(!1),ie(""),Ue(""),e("/",{replace:!0})},className:"text-sm text-blue-300 hover:text-blue-200",children:"Cancel"})})]}),!Ve&&!p&&o.jsx("div",{className:"mb-8 text-center",children:o.jsx(M.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>Te(!0),className:`px-6 py-3 rounded-xl font-semibold transition-all relative ${C?"bg-gray-700 hover:bg-gray-600 text-white":"bg-blue-700 hover:bg-blue-600 text-white"}`,style:{zIndex:15,pointerEvents:"auto"},children:"âž• Join Battle with Code"})}),o.jsx(zs,{darkMode:C}),o.jsxs("div",{className:`rounded-2xl p-8 md:p-10 shadow-2xl backdrop-blur-sm transition-all duration-300 relative ${C?"card-elevated-dark border-2 border-gray-700":"card-elevated sonic-border"}`,style:{zIndex:10},children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("label",{className:"block text-xl font-bold mb-4 text-sonic-gold",children:"Number of Players"}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsx("button",{onClick:kn,disabled:n<=2,className:"w-12 h-12 bg-blue-700 hover:bg-blue-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold text-xl rounded-lg transition-all relative",style:{zIndex:15,pointerEvents:n<=2?"none":"auto"},children:"âˆ’"}),o.jsx("input",{type:"text",inputMode:"numeric",min:"2",value:n,lang:"en-US",dir:"ltr",translate:"no",onChange:u=>{const m=u.target.value.replace(/[^0-9]/g,"");r(m);const x=Number(m);if(x>=2){const N=Array(x).fill("").map((R,Z)=>s[Z]||"");i(N),c({}),v({})}},onBlur:()=>{let u=Number(n)||2;u<2&&(u=2),r(u);const m=Array(u).fill("").map((x,N)=>s[N]||"");i(m),Number(n)!==u&&(c({}),v({}))},className:`w-24 px-4 py-3 border-2 rounded-lg text-center text-xl font-bold focus:outline-none focus:border-sonic-gold focus:ring-2 focus:ring-sonic-gold/50 ${C?"bg-gray-800/50 border-gray-600 text-white":"bg-blue-800/50 border-blue-600 text-white"}`}),o.jsx("button",{onClick:In,className:"w-12 h-12 bg-blue-700 hover:bg-blue-600 text-white font-bold text-xl rounded-lg transition-all relative",style:{zIndex:15,pointerEvents:"auto"},children:"+"})]})]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("label",{className:`block text-xl font-bold mb-5 ${C?"text-gray-200":"text-sonic-gold"}`,children:"Player Handles"}),o.jsx("div",{className:"space-y-4",children:s.map((u,m)=>o.jsx(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4 items-stretch md:items-center",children:[o.jsx("input",{type:"text",placeholder:`Player ${m+1} Handle`,value:u,onChange:x=>Fn(m,x.target.value),className:`flex-1 px-5 py-3.5 input-field text-white placeholder-opacity-60 ${C?"bg-gray-800/50 border-gray-600 placeholder-gray-400":"placeholder-blue-300"}`,disabled:y}),a[m]&&o.jsxs(M.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-500/20 border-2 border-green-500 rounded-xl text-green-400 text-sm md:text-base font-bold whitespace-nowrap",children:[o.jsx("span",{className:"text-2xl",children:"âœ“"}),o.jsx("span",{className:"font-semibold",children:a[m].rating>0?`Rating: ${a[m].rating}`:"Unrated"})]}),h[m]&&o.jsxs(M.div,{initial:{scale:0},animate:{scale:1},className:"px-4 py-2 bg-red-500/20 border-2 border-red-500 rounded-xl text-red-400 font-semibold",children:["âœ— ",h[m]]})]})},m))})]}),o.jsxs("div",{className:"space-y-6 mb-8",children:[o.jsx(Vs,{darkMode:C,options:[{label:"Restrict to Specific Topics (Filter)",checked:!je,onChange:u=>Ln(!u)},{label:"Final Lap Mode (2x Points in last 25%)",checked:T,onChange:D}],children:!je&&o.jsxs(M.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("span",{className:`text-sm font-bold ${C?"text-gray-400":"text-blue-300"}`,children:["Select Topics (",b.length,")"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:_n,className:"text-xs px-2 py-1 bg-green-600 rounded text-white hover:bg-green-500 transition-colors",children:"All"}),o.jsx("button",{onClick:Un,className:"text-xs px-2 py-1 bg-red-600 rounded text-white hover:bg-red-500 transition-colors",children:"None"})]})]}),o.jsx("div",{className:`max-h-64 overflow-y-auto pr-2 custom-scrollbar grid grid-cols-1 md:grid-cols-2 gap-4 ${C?"scrollbar-dark":"scrollbar-light"}`,children:ye.map(u=>o.jsxs("label",{className:`flex items-center p-2 rounded-lg cursor-pointer transition-colors hover:translate-x-1 ${C?"hover:bg-gray-700/50":"hover:bg-blue-800/50"}`,children:[o.jsx("input",{type:"checkbox",checked:b.includes(u),onChange:()=>Dn(u),className:"w-4 h-4 mr-3 accent-sonic-gold cursor-pointer"}),o.jsx("span",{className:`text-sm font-medium ${C?"text-gray-300":"text-white"}`,children:u})]},u))}),o.jsx("p",{className:`text-xs text-center italic ${C?"text-gray-500":"text-blue-300"}`,children:b.length===0?"No topics selected (Defaults to All Topics)":""})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:`rounded-xl p-4 border-2 backdrop-blur-sm transition-all duration-200 ${C?"bg-gray-800/40 border-gray-700":"bg-blue-800/20 border-blue-600/40"}`,children:[o.jsx("label",{className:`block text-md font-bold mb-2 ${C?"text-gray-200":"text-sonic-gold"}`,children:"Rating Range"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[o.jsx("label",{className:`text-xs font-bold uppercase ${C?"text-gray-400":"text-blue-300"}`,children:"Min"}),o.jsx("input",{type:"text",inputMode:"numeric",value:G,lang:"en-US",dir:"ltr",translate:"no",onChange:u=>{const m=u.target.value.replace(/[^0-9]/g,"");if(m==="")B("");else{const x=Number(m);x<=3500&&B(x)}},onBlur:()=>{let u=Number(G)||800;u=Math.max(800,Math.min(Number(w)||3500,u)),B(u)},className:`w-full px-1 py-2 text-white text-center text-lg font-bold rounded-lg input-field shadow-inner ${C?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}})]}),o.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[o.jsx("label",{className:`text-xs font-bold uppercase ${C?"text-gray-400":"text-blue-300"}`,children:"Max"}),o.jsx("input",{type:"text",inputMode:"numeric",value:w,lang:"en-US",dir:"ltr",translate:"no",onChange:u=>{const m=u.target.value.replace(/[^0-9]/g,"");if(m==="")z("");else{const x=Number(m);x<=3500&&z(x)}},onBlur:()=>{let u=Number(w)||2e3;u=Math.max(Number(G)||800,Math.min(3500,u)),z(u)},className:`w-full px-1 py-2 text-white text-center text-lg font-bold rounded-lg input-field shadow-inner ${C?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}})]})]}),o.jsx("p",{className:`mt-2 text-center text-xs font-medium ${C?"text-gray-400":"text-blue-300"}`,children:"800 - 3500"})]}),o.jsxs("div",{className:`rounded-xl p-4 border-2 backdrop-blur-sm transition-all duration-200 ${C?"bg-gray-800/60 border-gray-600":"bg-blue-800/30 border-blue-600/50"}`,children:[o.jsx("label",{className:`block text-lg font-bold mb-3 ${C?"text-gray-200":"text-sonic-gold"}`,children:"Duration (min)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",inputMode:"numeric",value:W,lang:"en-US",dir:"ltr",translate:"no",onChange:u=>{const m=u.target.value.replace(/[^0-9]/g,"");if(m==="")te("");else{const x=Number(m);x<=120&&te(x)}},onBlur:()=>{let u=Number(W)||20;u=Math.max(20,Math.min(120,u)),te(u)},className:`w-full px-4 py-3.5 pr-14 text-white text-center text-xl font-bold rounded-xl input-field shadow-inner ${C?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}}),o.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-center gap-0.5",children:[o.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>te(Math.min(120,W+5)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-t-md border-b transition-all ${C?"bg-gray-700 hover:bg-gray-600 border-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 border-blue-500 shadow-md"}`,children:"â–²"}),o.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>te(Math.max(20,W-5)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-b-md transition-all ${C?"bg-gray-700 hover:bg-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 shadow-md"}`,children:"â–¼"})]})]}),o.jsx("p",{className:`mt-3 text-center text-sm font-medium ${C?"text-gray-400":"text-blue-300"}`,children:"20 - 120 min"})]}),o.jsxs("div",{className:`rounded-xl p-4 border-2 backdrop-blur-sm transition-all duration-200 ${C?"bg-gray-800/60 border-gray-600":"bg-blue-800/30 border-blue-600/50"}`,children:[o.jsx("label",{className:`block text-lg font-bold mb-3 ${C?"text-gray-200":"text-sonic-gold"}`,children:"# Problems"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",inputMode:"numeric",value:se,lang:"en-US",dir:"ltr",translate:"no",onChange:u=>{const m=u.target.value.replace(/[^0-9]/g,"");if(m==="")Q("");else{const x=Number(m);x<=100&&Q(x)}},onBlur:()=>{let u=Number(se)||1;u=Math.max(1,Math.min(100,u)),Q(u)},className:`w-full px-4 py-3.5 pr-14 text-white text-center text-xl font-bold rounded-xl input-field shadow-inner ${C?"bg-gray-900/50 border-gray-600":""}`,style:{fontFeatureSettings:'"tnum"'}}),o.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex flex-col justify-center gap-0.5",children:[o.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>Q(Math.min(100,se+1)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-t-md border-b transition-all ${C?"bg-gray-700 hover:bg-gray-600 border-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 border-blue-500 shadow-md"}`,children:"â–²"}),o.jsx(M.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>Q(Math.max(1,se-1)),className:`w-7 h-6 flex items-center justify-center text-xs font-bold text-white rounded-b-md transition-all ${C?"bg-gray-700 hover:bg-gray-600":"bg-gradient-to-b from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 shadow-md"}`,children:"â–¼"})]})]}),o.jsx("p",{className:`mt-3 text-center text-sm font-medium ${C?"text-gray-400":"text-blue-300"}`,children:"1 - 100"})]})]})]}),o.jsxs("div",{className:`mb-8 p-6 rounded-xl border-2 backdrop-blur-sm transition-all duration-200 ${C?"bg-gray-800/60 border-gray-600":"bg-blue-800/30 border-blue-600/50"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx("span",{className:"text-3xl",children:"ðŸ“…"}),o.jsxs("div",{children:[o.jsx("h3",{className:`text-xl font-bold ${C?"text-gray-200":"text-sonic-gold"}`,children:"Schedule Match"}),o.jsx("p",{className:`text-sm ${C?"text-gray-400":"text-blue-300"}`,children:"Set a start time to sync all players"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`text-sm font-semibold uppercase tracking-wider ${C?"text-gray-400":"text-blue-300"}`,children:"Date"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",inputMode:"numeric",value:q?q.split("T")[0]:"",placeholder:"YYYY-MM-DD",lang:"en-US",dir:"ltr",translate:"no",onChange:u=>{const m=u.target.value.replace(/[^0-9-]/g,""),x=q&&q.split("T")[1]||"00:00";ne(`${m}T${x}`)},className:`w-full px-4 py-3.5 pr-12 rounded-xl border-2 font-mono text-lg transition-all outline-none 
                        ${C?"bg-gray-900/50 border-gray-600 focus:border-sonic-gold text-white":"bg-blue-900/30 border-blue-500/50 focus:border-sonic-gold text-white"}`,disabled:!!we}),o.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center w-10",children:[o.jsx("input",{type:"date",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",onChange:u=>{const m=u.target.value,x=q&&q.split("T")[1]||"00:00";ne(`${m}T${x}`)},min:new Date().toISOString().split("T")[0],disabled:!!we}),o.jsx("span",{className:"text-xl pointer-events-none",children:"ðŸ“…"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:`text-sm font-semibold uppercase tracking-wider ${C?"text-gray-400":"text-blue-300"}`,children:"Time (HH:MM)"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",inputMode:"numeric",value:q?q.split("T")[1]||"00:00":"",placeholder:"HH:MM",lang:"en-US",dir:"ltr",translate:"no",onChange:u=>{const m=u.target.value.replace(/[^0-9:]/g,""),x=q?q.split("T")[0]:new Date().toISOString().split("T")[0];ne(`${x}T${m}`)},className:`w-full px-4 py-3.5 pr-12 rounded-xl border-2 font-mono text-lg transition-all outline-none 
                        ${C?"bg-gray-900/50 border-gray-600 focus:border-sonic-gold text-white":"bg-blue-900/30 border-blue-500/50 focus:border-sonic-gold text-white"}`,disabled:!!we}),o.jsxs("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center w-10",children:[o.jsx("input",{type:"time",className:"absolute inset-0 opacity-0 cursor-pointer w-full h-full",onChange:u=>{const m=u.target.value,x=q?q.split("T")[0]:new Date().toISOString().split("T")[0];ne(`${x}T${m}`)},disabled:!!we}),o.jsx("span",{className:"text-xl pointer-events-none",children:"ðŸ•’"})]})]})]})]}),!we&&o.jsxs("div",{children:[o.jsx("label",{className:`block text-xs font-semibold mb-3 uppercase tracking-wider ${C?"text-gray-500":"text-blue-300"}`,children:"Quick Start Options"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:[{label:"Now (+2m)",mins:2},{label:"+5 min",mins:5},{label:"+10 min",mins:10},{label:"+15 min",mins:15},{label:"+30 min",mins:30},{label:"+1 hour",mins:60}].map(u=>o.jsx("button",{onClick:()=>{const m=new Date;m.setMinutes(m.getMinutes()+u.mins);const x=m.getTimezoneOffset()*60*1e3,N=new Date(m.getTime()-x).toISOString().slice(0,16);ne(N)},className:`px-4 py-2 rounded-lg text-sm font-bold border transition-all hover:scale-105 active:scale-95 ${C?"bg-gray-700/50 border-gray-600 text-gray-300 hover:bg-gray-600 hover:text-white hover:border-sonic-gold":"bg-blue-700/30 border-blue-500/50 text-blue-100 hover:bg-blue-600 hover:text-white hover:border-sonic-gold"}`,children:u.label},u.label))})]})]})]}),Ee&&o.jsx(M.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-5 bg-red-900/50 border-2 border-red-500 rounded-xl text-red-100 font-semibold shadow-lg backdrop-blur-sm",children:Ee}),!p&&o.jsx(M.button,{whileHover:{scale:ve||Object.keys(a).length!==n||!q?1:1.02},whileTap:{scale:ve||Object.keys(a).length!==n||!q?1:.98},onClick:u=>{u.preventDefault(),u.stopPropagation(),console.log("Button clicked, calling handleStartBattle"),Bn()},disabled:ve||Object.keys(a).length!==n||!q,className:`w-full py-5 font-extrabold text-2xl rounded-2xl transition-all duration-300 shadow-2xl relative ${ve||Object.keys(a).length!==n||!q?"bg-gradient-to-r from-gray-600 to-gray-700 text-gray-400 cursor-not-allowed":C?"bg-gradient-to-r from-sonic-gold via-yellow-500 to-sonic-gold text-gray-900 hover:from-yellow-400 hover:via-sonic-gold hover:to-yellow-400 shadow-yellow-500/50":"bg-gradient-to-r from-sonic-gold via-yellow-500 to-sonic-gold text-blue-900 hover:from-yellow-400 hover:via-sonic-gold hover:to-yellow-400 shadow-yellow-500/50"}`,style:{zIndex:15,pointerEvents:ve||Object.keys(a).length!==n||!q?"none":"auto"},children:ve?"Preparing Battle...":q?s.some(u=>!u.trim())?"âš ï¸ Please Enter Player Handles":Object.keys(a).length!==n?"Please Wait for Validation":"START BATTLE âš¡":"âš ï¸ Please Select Start Time (Required)"})]})]})})}function Zs(){const e=Nt(),[t,n]=S.useState(null),[r,s]=S.useState(0),[i,a]=S.useState(""),[c,y]=S.useState(()=>{const g=localStorage.getItem("darkMode");return g!==null?g==="true":document.body.classList.contains("dark-mode")});return S.useEffect(()=>{const g=new URLSearchParams(window.location.search).get("invite");let h=sessionStorage.getItem("matchConfig");if(!h&&g&&(h=localStorage.getItem(`matchConfig_${g}`),h&&sessionStorage.setItem("matchConfig",h)),!h){e("/");return}try{const v=JSON.parse(h);n(v);const T=v.startTime||Date.now(),D=Date.now(),b=Math.max(0,T-D);s(b);const j=JSON.stringify(v),z=`https://Abdelrahman139.github.io/Codeforces-Sonic-battle-game/#/?invite=${btoa(unescape(encodeURIComponent(j)))}`;a(z);const G=setInterval(()=>{const B=Date.now(),W=Math.max(0,T-B);s(W),W<=0&&(clearInterval(G),e("/"))},1e3);return()=>clearInterval(G)}catch(v){console.error("Error loading match config:",v),e("/")}},[e]),S.useEffect(()=>{const g=h=>{y(h.detail)};return window.addEventListener("darkModeChange",g),()=>window.removeEventListener("darkModeChange",g)},[]),S.useEffect(()=>{c?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[c]),t?o.jsx("div",{className:`min-h-screen p-4 md:p-8 pt-20 relative transition-colors duration-300 ${c?"bg-gray-900":""}`,style:{zIndex:10},children:o.jsxs("div",{className:"max-w-4xl mx-auto relative",style:{zIndex:10},children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 neon-glow",style:{color:"#FFD700"},children:"âš¡ Battle Starting Soon âš¡"})}),o.jsx(qs,{countdown:r,inviteLink:i,darkMode:c})]})}):null}function Gs({players:e,solvedProblems:t,problems:n}){const r=S.useMemo(()=>{const s={},i=new Map(t);return e.forEach(a=>{const c=Array.from(i.values()).filter(h=>h.handle===a.handle).length,g=Array.from(i.entries()).filter(([h,v])=>v.handle===a.handle).map(([h,v])=>h).map(h=>{const v=n.find(T=>`${T.contestId}-${T.index}`===h);return v?{id:h,name:`${v.contestId}${v.index}. ${v.name}`,rating:v.rating||0}:null}).filter(Boolean);s[a.handle]={handle:a.handle,solvedCount:c,solvedProblems:g,totalProblems:n.length}}),s},[e,t,n]);return o.jsxs("div",{className:"bg-blue-900/50 rounded-lg p-6 sonic-border",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Player Statistics"}),o.jsx("div",{className:"space-y-4",children:Object.values(r).map((s,i)=>o.jsxs(M.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.1},className:"p-4 bg-blue-800/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-xl font-bold text-white",children:s.handle}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"text-2xl font-bold text-sonic-gold",children:[s.solvedCount,"/",s.totalProblems]}),o.jsx("div",{className:"text-sm text-blue-300",children:"Problems Solved"})]})]}),s.solvedProblems.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-200 mb-2",children:"Solved Problems:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.solvedProblems.map(a=>o.jsx(M.span,{initial:{scale:0},animate:{scale:1},className:"px-3 py-1 bg-green-900/50 border border-green-500 rounded-lg text-sm text-green-300",children:a.name},a.id))})]})]},s.handle))})]})}var Rt={};(function e(t,n,r,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!t.OffscreenCanvas)return!1;try{var f=new OffscreenCanvas(1,1),l=f.getContext("2d");l.fillRect(0,0,1,1);var E=f.transferToImageBitmap();l.createPattern(E,"no-repeat")}catch{return!1}return!0}();function y(){}function g(f){var l=n.exports.Promise,E=l!==void 0?l:t.Promise;return typeof E=="function"?new E(f):(f(y,y),null)}var h=function(f,l){return{transform:function(E){if(f)return E;if(l.has(E))return l.get(E);var p=new OffscreenCanvas(E.width,E.height),P=p.getContext("2d");return P.drawImage(E,0,0),l.set(E,p),p},clear:function(){l.clear()}}}(c,new Map),v=function(){var f=Math.floor(16.666666666666668),l,E,p={},P=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(l=function(A){var k=Math.random();return p[k]=requestAnimationFrame(function O($){P===$||P+f-1<$?(P=$,delete p[k],A()):p[k]=requestAnimationFrame(O)}),k},E=function(A){p[A]&&cancelAnimationFrame(p[A])}):(l=function(A){return setTimeout(A,f)},E=function(A){return clearTimeout(A)}),{frame:l,cancel:E}}(),T=function(){var f,l,E={};function p(P){function A(k,O){P.postMessage({options:k||{},callback:O})}P.init=function(O){var $=O.transferControlToOffscreen();P.postMessage({canvas:$},[$])},P.fire=function(O,$,U){if(l)return A(O,null),l;var V=Math.random().toString(36).slice(2);return l=g(function(J){function K(ee){ee.data.callback===V&&(delete E[V],P.removeEventListener("message",K),l=null,h.clear(),U(),J())}P.addEventListener("message",K),A(O,V),E[V]=K.bind(null,{data:{callback:V}})}),l},P.reset=function(){P.postMessage({reset:!0});for(var O in E)E[O](),delete E[O]}}return function(){if(f)return f;if(!r&&i){var P=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{f=new Worker(URL.createObjectURL(new Blob([P])))}catch(A){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",A),null}p(f)}return f}}(),D={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(f,l){return l?l(f):f}function j(f){return f!=null}function w(f,l,E){return b(f&&j(f[l])?f[l]:D[l],E)}function z(f){return f<0?0:Math.floor(f)}function G(f,l){return Math.floor(Math.random()*(l-f))+f}function B(f){return parseInt(f,16)}function W(f){return f.map(te)}function te(f){var l=String(f).replace(/[^0-9a-f]/gi,"");return l.length<6&&(l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]),{r:B(l.substring(0,2)),g:B(l.substring(2,4)),b:B(l.substring(4,6))}}function se(f){var l=w(f,"origin",Object);return l.x=w(l,"x",Number),l.y=w(l,"y",Number),l}function Q(f){f.width=document.documentElement.clientWidth,f.height=document.documentElement.clientHeight}function Se(f){var l=f.getBoundingClientRect();f.width=l.width,f.height=l.height}function xe(f){var l=document.createElement("canvas");return l.style.position="fixed",l.style.top="0px",l.style.left="0px",l.style.pointerEvents="none",l.style.zIndex=f,l}function je(f,l,E,p,P,A,k,O,$){f.save(),f.translate(l,E),f.rotate(A),f.scale(p,P),f.arc(0,0,1,k,O,$),f.restore()}function Pe(f){var l=f.angle*(Math.PI/180),E=f.spread*(Math.PI/180);return{x:f.x,y:f.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:f.startVelocity*.5+Math.random()*f.startVelocity,angle2D:-l+(.5*E-Math.random()*E),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:f.color,shape:f.shape,tick:0,totalTicks:f.ticks,decay:f.decay,drift:f.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:f.gravity*3,ovalScalar:.6,scalar:f.scalar,flat:f.flat}}function C(f,l){l.x+=Math.cos(l.angle2D)*l.velocity+l.drift,l.y+=Math.sin(l.angle2D)*l.velocity+l.gravity,l.velocity*=l.decay,l.flat?(l.wobble=0,l.wobbleX=l.x+10*l.scalar,l.wobbleY=l.y+10*l.scalar,l.tiltSin=0,l.tiltCos=0,l.random=1):(l.wobble+=l.wobbleSpeed,l.wobbleX=l.x+10*l.scalar*Math.cos(l.wobble),l.wobbleY=l.y+10*l.scalar*Math.sin(l.wobble),l.tiltAngle+=.1,l.tiltSin=Math.sin(l.tiltAngle),l.tiltCos=Math.cos(l.tiltAngle),l.random=Math.random()+2);var E=l.tick++/l.totalTicks,p=l.x+l.random*l.tiltCos,P=l.y+l.random*l.tiltSin,A=l.wobbleX+l.random*l.tiltCos,k=l.wobbleY+l.random*l.tiltSin;if(f.fillStyle="rgba("+l.color.r+", "+l.color.g+", "+l.color.b+", "+(1-E)+")",f.beginPath(),a&&l.shape.type==="path"&&typeof l.shape.path=="string"&&Array.isArray(l.shape.matrix))f.fill(we(l.shape.path,l.shape.matrix,l.x,l.y,Math.abs(A-p)*.1,Math.abs(k-P)*.1,Math.PI/10*l.wobble));else if(l.shape.type==="bitmap"){var O=Math.PI/10*l.wobble,$=Math.abs(A-p)*.1,U=Math.abs(k-P)*.1,V=l.shape.bitmap.width*l.scalar,J=l.shape.bitmap.height*l.scalar,K=new DOMMatrix([Math.cos(O)*$,Math.sin(O)*$,-Math.sin(O)*U,Math.cos(O)*U,l.x,l.y]);K.multiplySelf(new DOMMatrix(l.shape.matrix));var ee=f.createPattern(h.transform(l.shape.bitmap),"no-repeat");ee.setTransform(K),f.globalAlpha=1-E,f.fillStyle=ee,f.fillRect(l.x-V/2,l.y-J/2,V,J),f.globalAlpha=1}else if(l.shape==="circle")f.ellipse?f.ellipse(l.x,l.y,Math.abs(A-p)*l.ovalScalar,Math.abs(k-P)*l.ovalScalar,Math.PI/10*l.wobble,0,2*Math.PI):je(f,l.x,l.y,Math.abs(A-p)*l.ovalScalar,Math.abs(k-P)*l.ovalScalar,Math.PI/10*l.wobble,0,2*Math.PI);else if(l.shape==="star")for(var F=Math.PI/2*3,re=4*l.scalar,oe=8*l.scalar,ae=l.x,ce=l.y,he=5,de=Math.PI/he;he--;)ae=l.x+Math.cos(F)*oe,ce=l.y+Math.sin(F)*oe,f.lineTo(ae,ce),F+=de,ae=l.x+Math.cos(F)*re,ce=l.y+Math.sin(F)*re,f.lineTo(ae,ce),F+=de;else f.moveTo(Math.floor(l.x),Math.floor(l.y)),f.lineTo(Math.floor(l.wobbleX),Math.floor(P)),f.lineTo(Math.floor(A),Math.floor(k)),f.lineTo(Math.floor(p),Math.floor(l.wobbleY));return f.closePath(),f.fill(),l.tick<l.totalTicks}function ye(f,l,E,p,P){var A=l.slice(),k=f.getContext("2d"),O,$,U=g(function(V){function J(){O=$=null,k.clearRect(0,0,p.width,p.height),h.clear(),P(),V()}function K(){r&&!(p.width===s.width&&p.height===s.height)&&(p.width=f.width=s.width,p.height=f.height=s.height),!p.width&&!p.height&&(E(f),p.width=f.width,p.height=f.height),k.clearRect(0,0,p.width,p.height),A=A.filter(function(ee){return C(k,ee)}),A.length?O=v.frame(K):J()}O=v.frame(K),$=J});return{addFettis:function(V){return A=A.concat(V),U},canvas:f,promise:U,reset:function(){O&&v.cancel(O),$&&$()}}}function pe(f,l){var E=!f,p=!!w(l||{},"resize"),P=!1,A=w(l,"disableForReducedMotion",Boolean),k=i&&!!w(l||{},"useWorker"),O=k?T():null,$=E?Q:Se,U=f&&O?!!f.__confetti_initialized:!1,V=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,J;function K(F,re,oe){for(var ae=w(F,"particleCount",z),ce=w(F,"angle",Number),he=w(F,"spread",Number),de=w(F,"startVelocity",Number),Ue=w(F,"decay",Number),Ve=w(F,"gravity",Number),Te=w(F,"drift",Number),ve=w(F,"colors",W),Ce=w(F,"ticks",Number),Ee=w(F,"shapes"),ie=w(F,"scalar"),Ke=!!w(F,"flat"),Ae=se(F),Be=ae,Ie=[],Xe=f.width*Ae.x,Ze=f.height*Ae.y;Be--;)Ie.push(Pe({x:Xe,y:Ze,angle:ce,spread:he,startVelocity:de,color:ve[Be%ve.length],shape:Ee[G(0,Ee.length)],ticks:Ce,decay:Ue,gravity:Ve,drift:Te,scalar:ie,flat:Ke}));return J?J.addFettis(Ie):(J=ye(f,Ie,$,re,oe),J.promise)}function ee(F){var re=A||w(F,"disableForReducedMotion",Boolean),oe=w(F,"zIndex",Number);if(re&&V)return g(function(de){de()});E&&J?f=J.canvas:E&&!f&&(f=xe(oe),document.body.appendChild(f)),p&&!U&&$(f);var ae={width:f.width,height:f.height};O&&!U&&O.init(f),U=!0,O&&(f.__confetti_initialized=!0);function ce(){if(O){var de={getBoundingClientRect:function(){if(!E)return f.getBoundingClientRect()}};$(de),O.postMessage({resize:{width:de.width,height:de.height}});return}ae.width=ae.height=null}function he(){J=null,p&&(P=!1,t.removeEventListener("resize",ce)),E&&f&&(document.body.contains(f)&&document.body.removeChild(f),f=null,U=!1)}return p&&!P&&(P=!0,t.addEventListener("resize",ce,!1)),O?O.fire(F,ae,he):K(F,ae,he)}return ee.reset=function(){O&&O.reset(),J&&J.reset()},ee}var q;function ne(){return q||(q=pe(null,{useWorker:!0,resize:!0})),q}function we(f,l,E,p,P,A,k){var O=new Path2D(f),$=new Path2D;$.addPath(O,new DOMMatrix(l));var U=new Path2D;return U.addPath($,new DOMMatrix([Math.cos(k)*P,Math.sin(k)*P,-Math.sin(k)*A,Math.cos(k)*A,E,p])),U}function ge(f){if(!a)throw new Error("path confetti are not supported in this browser");var l,E;typeof f=="string"?l=f:(l=f.path,E=f.matrix);var p=new Path2D(l),P=document.createElement("canvas"),A=P.getContext("2d");if(!E){for(var k=1e3,O=k,$=k,U=0,V=0,J,K,ee=0;ee<k;ee+=2)for(var F=0;F<k;F+=2)A.isPointInPath(p,ee,F,"nonzero")&&(O=Math.min(O,ee),$=Math.min($,F),U=Math.max(U,ee),V=Math.max(V,F));J=U-O,K=V-$;var re=10,oe=Math.min(re/J,re/K);E=[oe,0,0,oe,-Math.round(J/2+O)*oe,-Math.round(K/2+$)*oe]}return{type:"path",path:l,matrix:E}}function _e(f){var l,E=1,p="#000000",P='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof f=="string"?l=f:(l=f.text,E="scalar"in f?f.scalar:E,P="fontFamily"in f?f.fontFamily:P,p="color"in f?f.color:p);var A=10*E,k=""+A+"px "+P,O=new OffscreenCanvas(A,A),$=O.getContext("2d");$.font=k;var U=$.measureText(l),V=Math.ceil(U.actualBoundingBoxRight+U.actualBoundingBoxLeft),J=Math.ceil(U.actualBoundingBoxAscent+U.actualBoundingBoxDescent),K=2,ee=U.actualBoundingBoxLeft+K,F=U.actualBoundingBoxAscent+K;V+=K+K,J+=K+K,O=new OffscreenCanvas(V,J),$=O.getContext("2d"),$.font=k,$.fillStyle=p,$.fillText(l,ee,F);var re=1/E;return{type:"bitmap",bitmap:O.transferToImageBitmap(),matrix:[re,0,0,re,-V*re/2,-J*re/2]}}n.exports=function(){return ne().apply(this,arguments)},n.exports.reset=function(){ne().reset()},n.exports.create=pe,n.exports.shapeFromPath=ge,n.exports.shapeFromText=_e})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Rt,!1);const gt=Rt.exports;Rt.exports.create;function Ys(){return S.useEffect(()=>{const t=Date.now()+3e3,n=()=>{gt({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#FFD700","#0000FF"]}),gt({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#FFD700","#0000FF"]}),Date.now()<t&&requestAnimationFrame(n)};n(),gt({particleCount:100,spread:70,origin:{y:.6}})},[]),null}function Qs(){const e=Nt(),[t,n]=S.useState(null),[r,s]=S.useState(!1);if(S.useEffect(()=>{const T=sessionStorage.getItem("matchResults");T?n(JSON.parse(T)):e("/")},[e]),!t)return o.jsx("div",{className:"min-h-screen flex items-center justify-center relative z-10",children:o.jsxs(M.div,{animate:{x:[0,30,-30,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},className:"text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:"ðŸƒ"}),o.jsx("div",{className:"text-2xl",children:"Loading results..."})]})});const{players:i,solvedProblems:a,mysteryProblemIndex:c,matchConfig:y}=t,g=new Map(a),h=()=>{s(!0)},v=()=>{var D,b;const T=`${window.location.origin}/results?match=${(y==null?void 0:y.matchId)||"current"}`;navigator.share?navigator.share({title:"Sonic Battle Results",text:`Check out the results! Winner: ${((D=i[0])==null?void 0:D.handle)||"N/A"} with ${((b=i[0])==null?void 0:b.points)||0} points!`,url:T}).catch(j=>{console.log("Error sharing:",j)}):navigator.clipboard.writeText(T).then(()=>{alert("Results link copied to clipboard!")}).catch(()=>{prompt("Copy this link to share:",T)})};return o.jsxs("div",{className:"min-h-screen p-4 md:p-8 pt-20 relative",style:{zIndex:10},children:[i.length>0&&o.jsx(Ys,{}),o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-4 neon-glow",style:{color:"#FFD700"},children:"ðŸ MATCH RESULTS ðŸ"})}),i.length>0&&o.jsxs(M.div,{initial:{scale:0},animate:{scale:1},className:"text-center mb-8 p-8 bg-gradient-to-r from-sonic-gold to-yellow-400 rounded-lg sonic-border",children:[o.jsx("div",{className:"text-6xl mb-4",children:"ðŸ†"}),o.jsxs("div",{className:"text-3xl md:text-4xl font-bold text-blue-900",children:["Winner: ",i[0].handle]}),o.jsxs("div",{className:"text-2xl text-blue-800 mt-2",children:[i[0].points," Sonic Points"]})]}),o.jsxs("div",{className:"mb-8 bg-blue-900/50 rounded-lg p-6 sonic-border",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Final Standings"}),o.jsx("div",{className:"space-y-4",children:i.map((T,D)=>{var b;return o.jsxs(M.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:D*.1},className:"flex items-center justify-between p-4 bg-blue-800/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("span",{className:"text-3xl",children:D===0?"ðŸ¥‡":D===1?"ðŸ¥ˆ":D===2?"ðŸ¥‰":"ðŸƒ"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xl font-bold",children:T.handle}),((b=T.playerInfo)==null?void 0:b.rating)>0&&o.jsxs("div",{className:"text-sm text-blue-300",children:["Rating: ",T.playerInfo.rating]})]})]}),o.jsxs("div",{className:"text-2xl font-bold text-sonic-gold",children:[T.points," pts"]})]},T.handle)})})]}),!r&&c>=0&&o.jsx("div",{className:"mb-8 text-center",children:o.jsx("button",{onClick:h,className:"px-8 py-4 bg-purple-600 hover:bg-purple-700 rounded-lg font-bold text-xl transition-all transform hover:scale-105",children:"ðŸ”® Reveal Mystery Problem (2x Points!)"})}),r&&c>=0&&(y==null?void 0:y.problems)&&o.jsxs(M.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mb-8 bg-purple-900/50 rounded-lg p-6 sonic-border",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-purple-300",children:"ðŸ”® Mystery Problem"}),(()=>{const T=y.problems[c],D=`${T.contestId}-${T.index}`,b=g.get(D);return o.jsxs("div",{className:"p-4 bg-purple-800/50 rounded-lg",children:[o.jsxs("div",{className:"text-xl font-bold mb-2",children:[T.contestId,T.index,". ",T.name]}),o.jsxs("div",{className:"text-lg text-purple-200",children:["This problem awarded ",o.jsx("span",{className:"font-bold text-sonic-gold",children:"2x points"}),"!"]}),b&&o.jsxs("div",{className:"mt-2 text-green-400",children:["âœ“ Solved by ",b.handle]})]})})()]}),o.jsx(Gs,{players:(y==null?void 0:y.players)||[],solvedProblems:a,problems:(y==null?void 0:y.problems)||[]}),o.jsxs("div",{className:"mb-8 bg-blue-900/50 rounded-lg p-6 sonic-border",children:[o.jsx("h2",{className:"text-2xl font-bold mb-4 text-sonic-gold",children:"Problems Solved"}),o.jsxs("div",{className:"space-y-2",children:[Array.from(g.entries()).map(([T,D])=>{var j;const b=(j=y==null?void 0:y.problems)==null?void 0:j.find(w=>`${w.contestId}-${w.index}`===T);return b?o.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-800/50 rounded-lg",children:[o.jsx("div",{children:o.jsxs("a",{href:`https://codeforces.com/problemset/problem/${b.contestId}/${b.index}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-sonic-gold",children:[b.contestId,b.index,". ",b.name]})}),o.jsxs("div",{className:"text-green-400 font-semibold",children:["Solved by ",D.handle]})]},T):null}),g.size===0&&o.jsx("div",{className:"text-center text-blue-300 py-8",children:"No problems were solved in this match."})]})]}),o.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[o.jsx(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/"),className:"px-8 py-4 bg-sonic-gold hover:bg-yellow-400 text-blue-900 font-bold text-xl rounded-lg transition-all",children:"New Match"}),o.jsx(M.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v,className:"px-8 py-4 bg-green-600 hover:bg-green-700 font-bold text-xl rounded-lg transition-all text-white",children:"ðŸ“¤ Share Results"})]})]})]})}function eo(){const e=Yt(),[t]=S.useState(!0);S.useEffect(()=>{document.body.classList.add("dark-mode"),localStorage.setItem("darkMode","true")},[]);const n=r=>e.pathname==="/";return o.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-gradient-to-r from-blue-900/95 to-blue-800/95 backdrop-blur-md border-b-2 border-sonic-gold/50 shadow-lg",style:{zIndex:50},children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ot,{to:"/",className:"flex items-center gap-2",children:[o.jsx(M.div,{whileHover:{rotate:360},transition:{duration:.5},className:"text-3xl",children:"âš¡"}),o.jsx("span",{className:"text-xl font-bold text-sonic-gold neon-glow",children:"SONIC BATTLE"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Ot,{to:"/",className:`px-4 py-2 rounded-lg font-semibold transition-all duration-200 relative ${n()&&e.pathname==="/"?"bg-sonic-gold text-blue-900 shadow-lg shadow-yellow-500/50":"text-white hover:bg-blue-700/50"}`,style:{zIndex:15,pointerEvents:"auto"},children:"Home"}),e.pathname==="/results"&&o.jsx("span",{className:"px-4 py-2 rounded-lg font-semibold bg-green-600/80 text-white",children:"Results"})]})]})})})}const On=nt.memo(({delay:e,x:t,y:n,duration:r})=>o.jsx(M.div,{initial:{opacity:.2,scale:1,x:0,y:0},className:"absolute text-sonic-gold/15 text-3xl pointer-events-none",style:{left:`${t}%`,top:`${n}%`,willChange:"transform, opacity"},children:"â­•"}));On.displayName="FloatingRing";const Pn=nt.memo(({delay:e,x:t,y:n})=>o.jsx(M.div,{initial:{opacity:.2,scale:1},className:"absolute text-sonic-blue/25 text-xl pointer-events-none",style:{left:`${t}%`,top:`${n}%`,willChange:"transform, opacity"},children:"ðŸš©"}));Pn.displayName="Checkpoint";const Gt=(()=>{const e=Array.from({length:4},(n,r)=>({id:r,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2,duration:3+Math.random()*2})),t=Array.from({length:2},(n,r)=>({id:r,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2}));return{rings:e,checkpoints:t}})(),An=nt.memo(()=>o.jsxs("div",{className:"fixed inset-0 overflow-hidden",style:{zIndex:0,pointerEvents:"none"},children:[Gt.rings.map(e=>o.jsx(On,{delay:e.delay,x:e.x,y:e.y,duration:e.duration},e.id)),Gt.checkpoints.map(e=>o.jsx(Pn,{delay:e.delay,x:e.x,y:e.y},e.id))]}));An.displayName="AnimatedBackground";function to(){const e=Yt(),t={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},n={type:"tween",ease:"easeInOut",duration:.25};return o.jsxs(o.Fragment,{children:[o.jsx(An,{}),o.jsx(eo,{}),o.jsx("div",{className:"relative pt-16",style:{zIndex:10,position:"relative"},children:o.jsx(St,{mode:"wait",children:o.jsxs(Zn,{location:e,children:[o.jsx(ft,{path:"/",element:o.jsx(M.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:n,children:o.jsx(Xs,{})})}),o.jsx(ft,{path:"/countdown",element:o.jsx(M.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:n,children:o.jsx(Zs,{})})}),o.jsx(ft,{path:"/results",element:o.jsx(M.div,{variants:t,initial:"initial",animate:"animate",exit:"exit",transition:n,children:o.jsx(Qs,{})})})]},e.pathname)})})]})}function no(){return o.jsx(Xn,{children:o.jsx(to,{})})}bt.createRoot(document.getElementById("root")).render(o.jsx(nt.StrictMode,{children:o.jsx(no,{})}));
